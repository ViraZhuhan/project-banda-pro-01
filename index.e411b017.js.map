{"mappings":"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","sources":["src/js/header.js","src/js/themeToggle.js","src/js/upcoming.js","src/js/mobile-menu.js","src/js/scroll-up.js","src/js/modal-team.js"],"sourcesContent":["// Higlights active link in navigation menu / mobile menu\nimport getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n \n  const pathName = window.location.pathname.split('?')[0];\n\n  refs.pageLinks.forEach(link => {\n    const url = link.getAttribute('href');\n    if (pathName === '/index.html' && url === '/') {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    link.classList.remove('navigation__link--current');\n  });\n  refs.pageLinksMobile.forEach(link => {\n    const url = link.getAttribute('href');\n    if (pathName === '/index.html' && url === '/') {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    link.classList.remove('navigation-menu__link--current');\n  });\n})();\n","// Switch theme by changing root element class based on checkbox input state\nexport default (() => {\n  const html = document.documentElement;\n  const savedTheme = localStorage.getItem('color-theme');\n  const switcher = document.querySelector('.switch input[type=\"checkbox\"]');\n  if (savedTheme === 'light') switcher.checked = true;\n  switcher.addEventListener('input', () => {\n    const theme = html.className;\n    html.className = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('color-theme', html.className);\n  });\n})();\n","import Api  from './api';\nconst refs = {\n  galleryOfNewMovies: document.querySelector('.upcoming__container'),\n}\nconst newMovies = new Api();\n\nfetchUpcomingMovie().then(renderUpcomingMovieCard)\n.catch(er =>console.log(er.message));\nrenderUpcomingMovieCard();\n\n\n\nexport function fetchUpcomingMovie(){ \nreturn newMovies.upcoming()\n}; \n\n\nexport async function renderUpcomingMovieCard(res){\n  try{\n  \nconst genres = await newMovies.fetchGenres();\nconst results = res.results.slice(0,1);\n\nconst createUpcomingCard = results.map(result => {const {backdrop_path, original_title, release_date, vote_average, vote_count, popularity, genre_ids, overview } = result\n  function getFormatDate(join){\n    join= join || ' '; // разделитель по дефолту\n    \n    const release = new Date(release_date); \n    return release.getDate() + join + release.getMonth() + join + release.getFullYear();  \n  }\n  // console.log(getFormatDate('.'));\n  \n  const idGenre = res.results[0].genre_ids;\n  \n  let nameGenres=[];\n  for(let i=0; i < idGenre.length; i+=1 ){\n    const item = genres.find(el => el.id === idGenre[i])\n    nameGenres.push(item.name);\n  }\n\n \n \n const data = results[0];\n const title = data.original_title;\n const key = title;\n//  const title = res.results[0].original_title;\n const imageUrl = data.backdrop_path\n ? `https://image.tmdb.org/t/p/w500/${data.backdrop_path}`\n : 'https://via.placeholder.com/395x574?text=No+Image'; \n const formatDate = getFormatDate('.');\n const voteAverage = res.results[0].vote_average;\n const voteCount = res.results[0].vote_count;\n const genreUp = nameGenres.slice(0, 2).join(', ');\n\n\nrefs.galleryOfNewMovies.innerHTML = `<div class=\"upcoming__info\"> \n<img src=\"https://image.tmdb.org/t/p/original/${imageUrl}\" alt=\"${title}\"  loading=\"lazy\" class=\"upcoming__img\" />\n<div class=\"upcoming__info-btn\">\n<div class=\"upcoming__info-layout\">\n<h3 class =\"upcoming__movie-title\"><span class=\"upcoming__item-font-title\">${title}</span></h3>\n<div class=\"upcoming__list-tablet\">\n<ul class=\"upcoming__list\">\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-date\">Release date</span><span class=\"upcoming__item-data\">${formatDate}</span></li>\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-vote\">Vote/Votes </span><span class=\"upcoming__item-vote\">${voteAverage}</span>  /  <span class=\"upcoming__item-votes\">${voteCount}</span></li>\n</ul>\n<ul class=\"upcoming__list\">\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-popularity\">Popularity </span><span class=\"upcoming__item-pop\">${popularity}</span></li>\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-genre\">Genre </span><span class=\"upcoming__item-genre\">${genreUp}</span></li>\n</ul>\n</div>\n<p class =\"upcoming__movie-about\">About</p>\n<p class=\"upcoming__item-font-about\">${overview}</p>\n</div>\n<button type=\"button\" class=\"upcoming__button\">Remind me</button>\n</div>\n</div>`;\nremindBtn = document.querySelector('.upcoming__button')\nremindBtn.addEventListener('click', addLS);\nconst KEY = 'key';\n\n const value = {\n  title: title,\n  popularity,\n  voteAverage,\n  imageUrl,\n  voteCount,\n  genreUp,\n  overview,\n};\n// console.log(value);\n\n\nfunction addLS() { \n const arr = [];\n const saved = localStorage.getItem('key');\n \n console.log(saved)\n if( saved === null){\narr.push(value);\nlocalStorage.setItem('key', JSON.stringify(arr));\nremindBtn.disabled = true;\nremindBtn.style.backgraund = \"grey\";\n }\n else if(saved ==! null && arr.length >= 1){\n  remindBtn.disabled = true;\n  remindBtn.style.backgraund = \"grey\";\n }\n}\n});\n} catch{error => (console.log(error.message))};\n};\n\n\n// remindBtn.disabled = true;\n// remindBtn.style.backgraun = \"grey\";","export default (() => {\n  console.log('hello');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const headerContainer = document.querySelector('.header-menu');\n  const openMenuBtn = document.querySelector('.menu-open');\n  /* const closeMenuBtn = document.querySelector('.menu-close'); */\n  const body = document.getElementsByTagName('body')[0];\n  const linkButton = document.querySelectorAll('.navigation-menu__link');\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      headerContainer.getAttribute('aria-expanded') === 'true' || false;\n    headerContainer.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.setAttribute('aria-hidden', isMenuOpen);\n    headerContainer.classList.toggle('opened');\n    mobileMenu.classList.toggle('is-hidden');\n    body.classList.toggle('scroll-block');\n\n    /* const scrollLockMethod = !isMenuOpen\n      ? \"disableBodyScroll\"\n      : \"enableBodyScroll\";\n    bodyScrollLock[scrollLockMethod](document.body); */\n  };\n\n  const hideOnClickOutside = e => e.target === e.currentTarget && toggleMenu();\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  /* closeMenuBtn.addEventListener('click', toggleMenu); */\n  linkButton.forEach(button => button.addEventListener('click', toggleMenu));\n  mobileMenu.addEventListener('click', hideOnClickOutside);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.add('is-hidden');\n    headerContainer.setAttribute('aria-expanded', false);\n    headerContainer.classList.remove('opened');\n    body.classList.remove('scroll-block');\n    /* bodyScrollLock.enableBodyScroll(document.body); */\n  });\n})();\n","// Get the button element\nconst scrollUpBtn = document.getElementById('scroll-up-btn');\n\n// Add a scroll event listener to the window object\nwindow.addEventListener('scroll', function () {\n  // If the user has scrolled down more than 20 pixels, show the button\n  if (window.scrollY > 20) {\n    scrollUpBtn.style.display = 'block';\n  } else {\n    // Otherwise, hide the button\n    scrollUpBtn.style.display = 'none';\n  }\n});\n// Add a click event listener to the button\nscrollUpBtn.addEventListener('click', function () {\n  // Scroll the page to the top with smooth animation\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n","const refs = {\n  openModal: document.querySelector('.open-modal-team'),\n  closeModal: document.querySelector('.close-modal-team'),\n  teamBackdrop: document.querySelector('.backdrop-modal'),\n  teamModal: document.getElementsByClassName('team__modal'),\n};\n\nif (refs.openModal) refs.openModal.addEventListener('click', openModalTeam);\nif (refs.closeModal) refs.closeModal.addEventListener('click', closeModalTeam);\n\nfunction openModalTeam(event) {\n  refs.teamBackdrop.classList.remove('team__backdrop--hidden');\n  document.addEventListener('keydown', onEscapeClose);\n  document.addEventListener('click', onBackdropClose);\n  refs.teamModal[0].classList.add('openModalAnimationTeam');\n  // document.body.style.overflow = 'hidden';\n}\n\nfunction closeModalTeam(event) {\n  refs.teamModal[0].classList.remove('closeModalAnimationTeam');\n  refs.teamBackdrop.classList.add('team__backdrop--hidden');\n  document.removeEventListener('keydown', onEscapeClose);\n  document.body.style.overflow = '';\n}\n\nfunction onEscapeClose(event) {\n  if (event.code === 'Escape') {\n    refs.teamModal[0].classList.remove('openModalAnimationTeam');\n    refs.teamModal[0].classList.add('closeModalAnimationTeam');\n    setTimeout(() => {\n      closeModalTeam();\n    }, 400);\n    closeModalTeam();\n  }\n}\n\nfunction onBackdropClose(event) {\n  if (event.target === refs.teamBackdrop) {\n    refs.teamModal[0].classList.remove('openModalAnimationTeam');\n    refs.teamModal[0].classList.add('closeModalAnimationTeam');\n    setTimeout(() => {\n      closeModalTeam();\n    }, 400);\n  }\n}\n"],"names":["pathName","html","savedTheme","switcher","$d35165bd5db5382a$var$refs","parcelRequire","default","$bpxeT","window","location","pathname","split","pageLinks","forEach","link","url","getAttribute","classList","add","remove","pageLinksMobile","console","log","mobileMenu","document","querySelector","headerContainer","openMenuBtn","body","getElementsByTagName","linkButton","querySelectorAll","toggleMenu","isMenuOpen","setAttribute","toggle","addEventListener","button","e","target","currentTarget","matchMedia","matches","documentElement","localStorage","getItem","checked","theme","className","setItem","$4c6aab06649ec8ef$var$refs","galleryOfNewMovies","$4c6aab06649ec8ef$var$newMovies","$b7ONl","$4c6aab06649ec8ef$export$b31ccb6f873ec7de","res","$4c6aab06649ec8ef$var$_renderUpcomingMovieCard","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","genres","results","fetchGenres","_ctx","sent","slice","map","result","item","find","el","id","idGenre","i","nameGenres","push","name","release_date","backdrop_path","original_title","popularity","vote_average","vote_count","overview","genre_ids","i1","length","_loop","data","title","imageUrl","concat","formatDate","join","release","Date","getDate","getMonth","getFullYear","getFormatDate","voteAverage","voteCount","genreUp","innerHTML","remindBtn","arr","saved","value","JSON","stringify","disabled","style","backgraund","upcoming","then","catch","er","message","$17f8071d162f96bc$var$scrollUpBtn","getElementById","scrollY","display","scrollTo","top","behavior","$7ffd53e14a5f2a85$var$refs","openModal","closeModal","teamBackdrop","teamModal","getElementsByClassName","$7ffd53e14a5f2a85$var$closeModalTeam","event","removeEventListener","$7ffd53e14a5f2a85$var$onEscapeClose","overflow","code","setTimeout","$7ffd53e14a5f2a85$var$onBackdropClose"],"version":3,"file":"index.e411b017.js.map"}