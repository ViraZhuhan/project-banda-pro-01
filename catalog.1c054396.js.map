{"mappings":"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","sources":["src/js/mobile-menu.js","src/js/themeToggle.js","src/js/header.js","src/js/modal_movie.js","src/js/scroll-up.js","src/js/createTrends.js"],"sourcesContent":["export default (() => {\n  console.log('hello');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const headerContainer = document.querySelector('.header-menu');\n  const openMenuBtn = document.querySelector('.menu-open');\n  /* const closeMenuBtn = document.querySelector('.menu-close'); */\n  const body = document.getElementsByTagName('body')[0];\n  const linkButton = document.querySelectorAll('.navigation-menu__link');\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      headerContainer.getAttribute('aria-expanded') === 'true' || false;\n    headerContainer.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.setAttribute('aria-hidden', isMenuOpen);\n    headerContainer.classList.toggle('opened');\n    mobileMenu.classList.toggle('is-hidden');\n    body.classList.toggle('scroll-block');\n\n    /* const scrollLockMethod = !isMenuOpen\n      ? \"disableBodyScroll\"\n      : \"enableBodyScroll\";\n    bodyScrollLock[scrollLockMethod](document.body); */\n  };\n\n  const hideOnClickOutside = e => e.target === e.currentTarget && toggleMenu();\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  /* closeMenuBtn.addEventListener('click', toggleMenu); */\n  linkButton.forEach(button => button.addEventListener('click', toggleMenu));\n  mobileMenu.addEventListener('click', hideOnClickOutside);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.add('is-hidden');\n    headerContainer.setAttribute('aria-expanded', false);\n    headerContainer.classList.remove('opened');\n    body.classList.remove('scroll-block');\n    /* bodyScrollLock.enableBodyScroll(document.body); */\n  });\n})();\n","// Switch theme by changing root element class based on checkbox input state\nexport default (() => {\n  const html = document.documentElement;\n  const savedTheme = localStorage.getItem('color-theme');\n  const switcher = document.querySelector('.switch input[type=\"checkbox\"]');\n  if (savedTheme === 'light') switcher.checked = true;\n  switcher.addEventListener('input', () => {\n    const theme = html.className;\n    html.className = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('color-theme', html.className);\n  });\n})();\n","// Higlights active link in navigation menu / mobile menu\nexport default (() => {\n  const pageLinks = document.querySelectorAll('.navigation__link');\n  const pageLinksMobile = document.querySelectorAll('.navigation-menu__link');\n  const currentPath = window.location.href;\n  pageLinks.forEach(link => {\n    if (link.href === currentPath) {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    link.classList.remove('navigation__link--current');\n  });\n  pageLinksMobile.forEach(link => {\n    if (link.href === currentPath) {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    link.classList.remove('navigation-menu__link--current');\n  });\n})();\n","import Api from './api';\nconst api = new Api();\n\nconst refs = {\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  gallery: document.querySelector('.gallery'),\n};\nconst toggleModal = () => {\n  refs.backdrop.classList.toggle('hidden');\n};\n// ========================CLICK ESP=====================\n\nwindow.addEventListener('keydown', event => {\n  if (event.key === 'Escape') refs.backdrop.classList.add('hidden');\n});\n// ========================CLICK backdrop================\n\nrefs.backdrop.addEventListener('click', event => {\n  if (event.target.className === 'backdrop') {\n    toggleModal();\n  }\n});\n\n// ========================CLICK Open=====================\n\nrefs.gallery.addEventListener('click', event => {\n  toggleModal();\n  let idOfCard = event.target.closest('.gallery__item ').id;\n  modalMovie(idOfCard);\n});\n\n// ========================CLICK closed=====================\n\n// ========================================================\n\nexport async function modalMovie(id) {\n  try {\n    const data = await api.getDetailsById(id);\n    console.log(data);\n    const idGenres = data.genres;\n    const newGenreMovie = [];\n    idGenres.map(elem => {\n      newGenreMovie.push(elem.name);\n    });\n    const key = data.title;\n    const voteAverage = data.vote_average.toFixed(2);\n    const popularity = data.popularity.toFixed(1);\n    const imageUrl = data.poster_path\n      ? `https://image.tmdb.org/t/p/w500/${data.poster_path}`\n      : 'https://via.placeholder.com/395x574?text=No+Image';\n\n    refs.modal.innerHTML = `\n    <img class=\"modal__img\" src=${imageUrl} alt=${\n      data.original_name\n    } loading=\"lazy\">\n    <div class=\"modal__items\">\n      <h1 class=\"modal__title\">${data.title}</h1>\n      <p class=\"modal__rating\">Vote / Votes\n        <span class=\"modal__rating_span\">\n          <span class=\"rating-vote\">${voteAverage}</span> /\n          <span class=\"rating-vote\">${data.vote_count}</span>\n        </span>\n      </p>\n      <p class=\"modal__popularity\">Popularity <span>${popularity}</span> </p>\n      <p class=\"modal__genre\">Genre <span>${newGenreMovie.join(' ')}</span></p>\n      <p class=\"modal__about\">ABOUT</p>\n      <p class=\"modal__description\">${data.overview}</p>\n      <button class=\"button-add\" type=\"button\"><span class=\"button-add__tex\">Add to my library</span> </button>\n      <button class=\"button-remove hidden\" type=\"button\"><span class=\"button-add__tex\">Remove from my library</span> </button>\n    </div>`;\n\n    const buttonAdd = document.querySelector('.button-add');\n    const buttonRemove = document.querySelector('.button-remove');\n    const closeModalBtn = document.querySelector('.button__close');\n\n    closeModalBtn.addEventListener('click', toggleModal);\n    buttonAdd.addEventListener('click', addLS);\n    buttonRemove.addEventListener('click', removeLS);\n    ls();\n    function addLS() {\n      const value = {\n        data: data.release_date,\n        id,\n        title: data.title,\n        popularity,\n        voteAverage,\n        img: imageUrl,\n        voteCount: data.vote_count,\n        genres: newGenreMovie,\n        overview: data.overview,\n      };\n      localStorage.setItem(key, JSON.stringify(value));\n      buttonAdd.classList.add('hidden');\n      buttonRemove.classList.remove('hidden');\n    }\n    function removeLS() {\n      localStorage.removeItem(key);\n      buttonAdd.classList.remove('hidden');\n      buttonRemove.classList.add('hidden');\n    }\n    function ls() {\n      try {\n        const itemLs = localStorage.getItem(key);\n        const parceLS = null ? undefined : JSON.parse(itemLs);\n        if (parceLS === null) {\n          return;\n        }\n        buttonAdd.classList.add('hidden');\n        buttonRemove.classList.remove('hidden');\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n","// Get the button element\nconst scrollUpBtn = document.getElementById('scroll-up-btn');\n\n// Add a scroll event listener to the window object\nwindow.addEventListener('scroll', function () {\n  // If the user has scrolled down more than 20 pixels, show the button\n  if (window.scrollY > 20) {\n    scrollUpBtn.style.display = 'block';\n  } else {\n    // Otherwise, hide the button\n    scrollUpBtn.style.display = 'none';\n  }\n});\n// Add a click event listener to the button\nscrollUpBtn.addEventListener('click', function () {\n  // Scroll the page to the top with smooth animation\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n","import Api from './api';\nimport { noFilmError, onFetchError } from './msg-error';\nimport getRefs from './components/get-refs';\nimport {createGallery}  from './render-card';\n\nconst seachApi = new Api();\nconst refs = getRefs();\n\nasync function createWeekTrends() {\n  try {\n    const response = await seachApi.weekTrends();\n    createGallery(response.results.slice(0, 10));\n  } catch (error) {\n    noFilmError;\n  }\n}\n\ncreateWeekTrends();\n\nexport { createWeekTrends };\n"],"names":["console","log","mobileMenu","document","querySelector","headerContainer","openMenuBtn","body","getElementsByTagName","linkButton","querySelectorAll","toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","addEventListener","forEach","button","e","target","currentTarget","window","matchMedia","matches","add","remove","html","documentElement","savedTheme","localStorage","getItem","switcher","checked","theme","className","setItem","pageLinks","pageLinksMobile","currentPath","location","href","link","$bpxeT","parcelRequire","$aff9d962eec10935$var$api","default","$aff9d962eec10935$var$refs","backdrop","modal","gallery","$aff9d962eec10935$var$toggleModal","$aff9d962eec10935$var$_modalMovie","$parcel$interopDefault","$2TvXO","mark","_callee","id","data","idGenres","newGenreMovie","key","voteAverage","popularity","imageUrl","buttonAdd","buttonRemove","addLS","removeLS","ls","value","release_date","title","img","voteCount","vote_count","genres","overview","JSON","stringify","removeItem","itemLs","parse","error","getDetailsById","_ctx","sent","map","elem","push","name","vote_average","toFixed","poster_path","concat","innerHTML","original_name","join","t0","apply","this","arguments","event","$aff9d962eec10935$export$f1348557528e4581","closest","$17f8071d162f96bc$var$scrollUpBtn","getElementById","scrollY","style","display","scrollTo","top","behavior","$559c95ff25cb46a1$var$seachApi","$b7ONl","$8nXZc","$559c95ff25cb46a1$var$_createWeekTrends","response","weekTrends","$cwHAv","createGallery","results","slice","$bi3kq","noFilmError","$559c95ff25cb46a1$export$5510e60621df8cab"],"version":3,"file":"catalog.1c054396.js.map"}