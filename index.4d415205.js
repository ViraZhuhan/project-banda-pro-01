class e{constructor(){this.page=1}nextPage(){this.page+=1}prevPage(){this.page-=1}setPage(e){this.page=e}getCurrentPage(){return this.page}reset(){this.page=1}async dayTrends(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/all/dayRoute?api_key=225e339996bc91260b33199c383c8881&page=${this.page}`);return await e.json()}catch(e){throw new Error("Error fetching movie data: "+e)}}async weekTrends(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/all/week?api_key=225e339996bc91260b33199c383c8881&page=${this.page}`);return await e.json()}catch(e){throw new Error("Error fetching movie data: "+e)}}async upcoming(){try{const e=await fetch(`https://api.themoviedb.org/3/movie/upcoming?api_key=225e339996bc91260b33199c383c8881&page=${this.page}`);return await e.json()}catch(e){throw new Error("Error fetching movie data: "+e)}}async getDetailsById(e){const t=`https://api.themoviedb.org/3/movie/${e}?api_key=225e339996bc91260b33199c383c8881`;return await new Promise((e=>setTimeout(e,1e3))),fetch(t).then((e=>e.json()))}async fetchGenres(){try{const e=await fetch("https://api.themoviedb.org/3//genre/movie/list?api_key=225e339996bc91260b33199c383c8881");return(await e.json()).genres}catch(e){throw new Error("Error fetching genres data: "+e)}}async countries(){return await new Promise((e=>setTimeout(e,1e3))),fetch(`https://api.themoviedb.org/3/configuration/countries?api_key=225e339996bc91260b33199c383c8881&page=${this.page}`).then((e=>e.json()))}async searhByNameYear(e={}){let t="https://api.themoviedb.org/3/search/movie?api_key=225e339996bc91260b33199c383c8881&language=en-US&include_adult=false";const a=Object.keys(e);if(0!==a.length)for(const n of a)null!==(("year"===n||"query"===n||"page"===n)&&e[n])&&(t+=`&${n}=${e[n]}`);return await new Promise((e=>setTimeout(e,1e3))),fetch(t).then((e=>e.json()))}}document.querySelector("body"),document.querySelector(".modal__close-btn"),document.querySelector(".modal"),document.querySelector(".backdrop"),document.querySelector(".team__modal-open"),document.querySelector('[data-action="deleted-class"]'),document.querySelector(".footer-modal__close-btn"),document.querySelector("button[name=watched]");const t=new e,a={rating:document.querySelectorAll(".rating"),wrapper:document.querySelector(".article__list"),gallery:document.querySelector(".gallery")};function n(e){const t=e.querySelector(".rating__active"),a=e.querySelector(".rating__value");e.querySelectorAll(".rating__item").forEach((e=>{e.addEventListener("click",(()=>{a.innerHTML=e.value,o(t,a)}))})),o(t,a)}function o(e,t){const a=t.innerHTML/.025;e.style.width=`${a}%`}!async function(){try{const e=(await t.weekTrends()).results.slice(0,3),o=await t.fetchGenres(),i=e.map((e=>{const{poster_path:t,title:a,vote_average:n,release_date:i,genre_ids:c}=e,s=n,r=new Date(i).getFullYear();return`\n        <li class="article__item">\n        <article>\n        <img class="article__img" src="${t?`https://image.tmdb.org/t/p/w500/${t}`:"https://via.placeholder.com/395x574?text=No+Image"}" alt="${a}" width="395" >\n          <div class="details">\n            <p class="title__txt">${a}</p>\n            <div class="wraper__details">\n            <p class="movieGenres">${o.filter((e=>c.includes(e.id))).map((e=>e.name)).slice(0,2).join(", ")} | ${r}</p>\n            \n            <div class="rating">\n              <div class="rating__body">\n              <div class="rating__active" style="width: ${10*s}%;"></div>>\n                <div class="rating__items">\n                  <input type="radio" class="rating__item" value="1" name="rating" />\n                  <input type="radio" class="rating__item" value="2" name="rating" />\n                  <input type="radio" class="rating__item" value="3" name="rating" />\n                  <input type="radio" class="rating__item" value="4" name="rating" />\n                  <input type="radio" class="rating__item" value="5" name="rating" />\n                </div>\n              </div>\n              <div class="rating__value">${s}</div>\n            </div>\n            </div>\n          </div>\n        </article>\n          \n        </li>\n      `}));a.wrapper.innerHTML=i.join(""),function(){if(a.rating.length>0)for(let e=0;e<a.rating.length;e++)n(a.rating[e])}()}catch(e){console.error(e)}}();(()=>{console.log("hello");const e=document.querySelector(".mobile-menu"),t=document.querySelector(".header-menu"),a=document.querySelector(".menu-open"),n=document.getElementsByTagName("body")[0],o=document.querySelectorAll(".navigation-menu__link"),i=()=>{const a="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!a),e.setAttribute("aria-hidden",a),t.classList.toggle("opened"),e.classList.toggle("is-hidden"),n.classList.toggle("scroll-block")};a.addEventListener("click",i),o.forEach((e=>e.addEventListener("click",i))),e.addEventListener("click",(e=>e.target===e.currentTarget&&i())),window.matchMedia("(min-width: 768px)").addEventListener("change",(a=>{a.matches&&(e.classList.add("is-hidden"),t.setAttribute("aria-expanded",!1),t.classList.remove("opened"),n.classList.remove("scroll-block"))}))})(),(()=>{const e=document.documentElement,t=localStorage.getItem("color-theme"),a=document.querySelector('.switch input[type="checkbox"]');"light"===t&&(a.checked=!0),a.addEventListener("input",(()=>{const t=e.className;e.className="dark"===t?"light":"dark",localStorage.setItem("color-theme",e.className)}))})(),(()=>{const e=document.querySelectorAll(".navigation__link"),t=document.querySelectorAll(".navigation-menu__link"),a=window.location.href;e.forEach((e=>{e.href!==a?e.classList.remove("navigation__link--current"):e.classList.add("navigation__link--current")})),t.forEach((e=>{e.href!==a?e.classList.remove("navigation-menu__link--current"):e.classList.add("navigation-menu__link--current")}))})();const i={galleryOfNewMovies:document.querySelector(".upcoming"),remindBtn:document.querySelector(".upcoming__button")};function c(e){console.log(e);const t=(a=e.results.slice(0,1),console.log(a),a.map((({backdrop_path:e,original_title:t,release_date:a,vote_average:n,vote_count:o,popularity:i,genre_ids:c,overview:s})=>`<div class="upcoming__info"> \n  <img src="https://image.tmdb.org/t/p/original/${e}" alt="${t}"  loading="lazy" class="upcoming__img" />\n  <div class="upcoming__info-btn">\n  <div class="upcoming__info-layout">\n  <h3 class ="upcoming__movie-title"><span class="upcoming__item-font-title">${t}</span></h3>\n  <div class="upcoming__list-tablet">\n  <ul class="upcoming__list">\n  <li class ="upcoming__item"><span class="upcoming__item-font-date">Release date </span><span class="upcoming__item-data">${a}</span></li>\n  <li class ="upcoming__item"><span class="upcoming__item-font-vote">Vote/Votes </span><span class="upcoming__item-vote">${n}</span>  /  <span class="upcoming__item-votes">${o}</span></li>\n  </ul>\n  <ul class="upcoming__list">\n  <li class ="upcoming__item"><span class="upcoming__item-font-popularity">Popularity </span><span class="upcoming__item-pop">${i}</span></li>\n  <li class ="upcoming__item"><span class="upcoming__item-font-genre">Genre </span><span class="upcoming__item-genre">${c}</span></li>\n  </ul>\n  </div>\n  <p class ="upcoming__movie-about">About</p>\n  <p class="upcoming__item-font-about">${s}</p>\n  </div>\n  <button type="button" class="upcoming__button">Remind me</button>\n  </div>\n  </div>`)).join(""));var a;console.log(t),i.galleryOfNewMovies.insertAdjacentHTML("beforeend",t)}(new e).upcoming().then(c).catch((e=>console.log(e.message))),c();const s={openModal:document.querySelector(".open-modal-team"),closeModal:document.querySelector(".close-modal-team"),teamBackdrop:document.querySelector(".backdrop-modal"),teamModal:document.getElementsByClassName("team__modal")};function r(e){s.teamModal[0].classList.remove("closeModalAnimationTeam"),s.teamBackdrop.classList.add("team__backdrop--hidden"),document.removeEventListener("keydown",l),document.body.style.overflow=""}function l(e){"Escape"===e.code&&(s.teamModal[0].classList.remove("openModalAnimationTeam"),s.teamModal[0].classList.add("closeModalAnimationTeam"),setTimeout((()=>{r()}),400),r())}function d(e){e.target===s.teamBackdrop&&(s.teamModal[0].classList.remove("openModalAnimationTeam"),s.teamModal[0].classList.add("closeModalAnimationTeam"),setTimeout((()=>{r()}),400))}s.openModal&&s.openModal.addEventListener("click",(function(e){s.teamBackdrop.classList.remove("team__backdrop--hidden"),document.addEventListener("keydown",l),document.addEventListener("click",d),s.teamModal[0].classList.add("openModalAnimationTeam")})),s.closeModal&&s.closeModal.addEventListener("click",r);
//# sourceMappingURL=index.4d415205.js.map
