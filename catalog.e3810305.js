var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire991f;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequire991f=o);(()=>{console.log("hello");const e=document.querySelector(".mobile-menu"),t=document.querySelector(".header-menu"),n=document.querySelector(".menu-open"),o=document.getElementsByTagName("body")[0],a=document.querySelectorAll(".navigation-menu__link"),s=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.setAttribute("aria-hidden",n),t.classList.toggle("opened"),e.classList.toggle("is-hidden"),o.classList.toggle("scroll-block")};n.addEventListener("click",s),a.forEach((e=>e.addEventListener("click",s))),e.addEventListener("click",(e=>e.target===e.currentTarget&&s())),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.add("is-hidden"),t.setAttribute("aria-expanded",!1),t.classList.remove("opened"),o.classList.remove("scroll-block"))}))})(),(()=>{const e=document.documentElement,t=localStorage.getItem("color-theme"),n=document.querySelector('.switch input[type="checkbox"]');"light"===t&&(n.checked=!0),n.addEventListener("input",(()=>{const t=e.className;e.className="dark"===t?"light":"dark",localStorage.setItem("color-theme",e.className)}))})(),(()=>{const e=document.querySelectorAll(".navigation__link"),t=document.querySelectorAll(".navigation-menu__link"),n=window.location.href;e.forEach((e=>{e.href!==n?e.classList.remove("navigation__link--current"):e.classList.add("navigation__link--current")})),t.forEach((e=>{e.href!==n?e.classList.remove("navigation-menu__link--current"):e.classList.add("navigation-menu__link--current")}))})();const a=document.getElementById("search-form"),s=document.getElementById("search-input"),l=document.getElementById("movie-list");a.addEventListener("submit",(e=>{e.preventDefault();const t=s.value;l.innerHTML="",fetch(`https://api.themoviedb.org/3/search/movie?api_key=YOUR_API_KEY&query=${t}`).then((e=>e.json())).then((e=>{if(0===e.total_results){const e=document.createElement("p");e.textContent="OOPS... We are very sorry! We donâ€™t have any results due to your search.",l.appendChild(e)}else{e.results.forEach((e=>{const t=document.createElement("div");t.classList.add("movie"),t.innerHTML=`\n            <h2>${e.title}</h2>\n            <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n            <p>${e.overview}</p>\n          `,l.appendChild(t)}))}})).catch((e=>{console.error(e);const t=document.createElement("p");t.textContent="Oops! Something went wrong.",l.appendChild(t)}))}));const r=new(0,o("7rYDH").default),i={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal"),gallery:document.querySelector(".gallery")},c=()=>{i.backdrop.classList.toggle("hidden")};window.addEventListener("keydown",(e=>{"Escape"===e.key&&i.backdrop.classList.add("hidden")})),i.backdrop.addEventListener("click",(e=>{"backdrop"===e.target.className&&c()})),i.gallery.addEventListener("click",(e=>{c();let t=e.target.closest(".gallery__item ").id;console.log(t),async function(e){try{const a=await r.getDetailsById(e),s=a.genres,l=[];console.log(s),s.map((e=>{l.push(e.name)}));const d=a.title,u=a.vote_average.toFixed(2),m=a.popularity.toFixed(1),p=a.poster_path?`https://image.tmdb.org/t/p/w500/${a.poster_path}`:"https://via.placeholder.com/395x574?text=No+Image";i.modal.innerHTML=`\n    <button class="button__close" type="button">\n      <svg>\n        <use href="./images/symbol-defs.svg#icon-close"></use>\n      </svg>\n    </button>\n    <img class="modal__img" src=${p} alt=${a.original_name} loading="lazy">\n    <div class="modal__items">\n      <h1 class="modal__title">${a.title}</h1>\n      <p class="modal__rating">Vote / Votes\n        <span class="modal__rating_span">\n          <span class="rating-vote">${u}</span> /\n          <span class="rating-vote">${a.vote_count}</span>\n        </span>\n      </p>\n      <p class="modal__popularity">Popularity <span>${m}</span> </p>\n      <p class="modal__genre">Genre <span>${l.join(" ")}</span></p>\n      <p class="modal__about">ABOUT</p>\n      <p class="modal__description">${a.overview}</p>\n      <button class="button-add" type="button"><span class="button-add__tex">Add to my library</span> </button>\n      <button class="button-remove hidden" type="button"><span class="button-add__tex">Remove from my library</span> </button>\n    </div>`;const g=document.querySelector(".button-add"),v=document.querySelector(".button-remove");function t(){const t={id:e,title:a.title,popularity:m,voteAverage:u,img:p,voteCount:a.vote_count,genres:l,overview:a.overview};localStorage.setItem(d,JSON.stringify(t)),g.classList.add("hidden"),v.classList.remove("hidden")}function n(){localStorage.removeItem(d),g.classList.remove("hidden"),v.classList.add("hidden")}function o(){const e=localStorage.getItem(d),t=JSON.parse(e);d===t.title&&(g.classList.add("hidden"),v.classList.remove("hidden"))}document.querySelector(".button__close").addEventListener("click",c),g.addEventListener("click",t),v.addEventListener("click",n),o()}catch(h){console.error(h)}}(t)})),o("7X0WP");const d=document.getElementById("scroll-up-btn");window.addEventListener("scroll",(function(){window.scrollY>20?d.style.display="block":d.style.display="none"})),d.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));
//# sourceMappingURL=catalog.e3810305.js.map
