const e=new class{async fetchMovie(){try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=bc9d399f277e750e98559ead1436749b");return await e.json()}catch(e){throw new Error("Error fetching movie data: "+e)}}constructor(){}},t=new class{async fetchGenres(){try{const e=await fetch("https://api.themoviedb.org/3//genre/movie/list?api_key=bc9d399f277e750e98559ead1436749b");return(await e.json()).genres}catch(e){throw new Error("Error fetching genres data: "+e)}}constructor(){}},n=document.querySelectorAll(".rating");function a(){for(let e=0;e<n.length;e++){i(n[e])}}function i(e){const t=e.querySelector(".rating__active"),n=e.querySelector(".rating__value");e.querySelectorAll(".rating__item").forEach((e=>{e.addEventListener("click",(()=>{n.innerHTML=e.value,r(t,n)}))})),r(t,n)}function r(e,t){const n=t.innerHTML/.025;e.style.width=`${n}%`}n.length>0&&a(),async function(){try{const n=(await e.fetchMovie()).results.slice(0,3),i=document.querySelector(".article__list"),r=await t.fetchGenres(),c=n.map((e=>{const{poster_path:t,title:n,vote_average:a,release_date:i,genre_ids:c}=e,s=a,l=new Date(i).getFullYear();return`\n        <li class="article__item">\n        <article>\n        <img class="article__img" src="${t?`https://image.tmdb.org/t/p/w500/${t}`:"https://via.placeholder.com/395x574?text=No+Image"}" alt="${n}" width="395" >\n          <div class="details">\n            <p class="title__txt">${n}</p>\n            <div class="wraper__details">\n            <p class="movieGenres">${r.filter((e=>c.includes(e.id))).map((e=>e.name)).slice(0,2).join(", ")} | ${l}</p>\n            \n            <div class="rating">\n              <div class="rating__body">\n                <div class="rating__active"></div>\n                <div class="rating__items">\n                  <input type="radio" class="rating__item" value="1" name="rating" />\n                  <input type="radio" class="rating__item" value="2" name="rating" />\n                  <input type="radio" class="rating__item" value="3" name="rating" />\n                  <input type="radio" class="rating__item" value="4" name="rating" />\n                  <input type="radio" class="rating__item" value="5" name="rating" />\n                </div>\n              </div>\n              <div class="rating__value">${s}</div>\n            </div>\n            </div>\n          </div>\n        </article>\n          \n        </li>\n      `}));i.innerHTML=c.join(""),a()}catch(e){console.error(e)}}();
//# sourceMappingURL=index.063763fc.js.map
