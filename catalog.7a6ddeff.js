var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire991f;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire991f=a);(()=>{console.log("hello");const e=document.querySelector(".mobile-menu"),t=document.querySelector(".header-menu"),n=document.querySelector(".menu-open"),a=document.getElementsByTagName("body")[0],i=document.querySelectorAll(".navigation-menu__link"),o=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.setAttribute("aria-hidden",n),t.classList.toggle("opened"),e.classList.toggle("is-hidden"),a.classList.toggle("scroll-block")};n.addEventListener("click",o),i.forEach((e=>e.addEventListener("click",o))),e.addEventListener("click",(e=>e.target===e.currentTarget&&o())),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.add("is-hidden"),t.setAttribute("aria-expanded",!1),t.classList.remove("opened"),a.classList.remove("scroll-block"))}))})(),(()=>{const e=document.documentElement,t=localStorage.getItem("color-theme"),n=document.querySelector('.switch input[type="checkbox"]');"light"===t&&(n.checked=!0),n.addEventListener("input",(()=>{const t=e.className;e.className="dark"===t?"light":"dark",localStorage.setItem("color-theme",e.className)}))})(),(()=>{const e=document.querySelectorAll(".navigation__link"),t=document.querySelectorAll(".navigation-menu__link"),n=window.location.pathname.split("?")[0];e.forEach((e=>{const t=e.getAttribute("href");("/index.html"!==n||"/"!==t)&&t!==n?e.classList.remove("navigation__link--current"):e.classList.add("navigation__link--current")})),t.forEach((e=>{const t=e.getAttribute("href");("/index.html"!==n||"/"!==t)&&t!==n?e.classList.remove("navigation-menu__link--current"):e.classList.add("navigation-menu__link--current")}))})();const i=new(0,(s=a("7rYDH")).default),o={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal"),gallery:document.querySelector(".gallery")},r=()=>{o.backdrop.classList.toggle("hidden")};window.addEventListener("keydown",(e=>{"Escape"===e.key&&o.backdrop.classList.add("hidden")})),o.backdrop.addEventListener("click",(e=>{"backdrop"===e.target.className&&r()})),o.gallery.addEventListener("click",(e=>{r(),async function(e){try{const l=await i.getDetailsById(e),s=l.genres,c=[];s.map((e=>{c.push(e.name)}));const d=l.vote_average.toFixed(2),m=l.popularity.toFixed(1),u=l.poster_path?`https://image.tmdb.org/t/p/w500/${l.poster_path}`:"https://via.placeholder.com/395x574?text=No+Image";o.modal.innerHTML=`\n    <img class="modal__img" src=${u} alt=${l.original_name} loading="lazy">\n    <div class="modal__items">\n      <h1 class="modal__title">${l.title}</h1>\n      <p class="modal__rating">Vote / Votes\n        <span class="modal__rating_span">\n          <span class="rating-vote">${d}</span> /\n          <span class="rating-vote">${l.vote_count}</span>\n        </span>\n      </p>\n      <p class="modal__popularity">Popularity <span>${m}</span> </p>\n      <p class="modal__genre">Genre <span>${c.join(" ")}</span></p>\n      <p class="modal__about">ABOUT</p>\n      <p class="modal__description">${l.overview}</p>\n      <button class="button-add" type="button"><span class="button-add__tex">Add to my library</span> </button>\n      <button class="button-remove hidden" type="button"><span class="button-add__tex">Remove from my library</span> </button>\n    </div>`;const g=document.querySelector(".button-add"),p=document.querySelector(".button-remove");document.querySelector(".button__close").addEventListener("click",r),g.addEventListener("click",t),p.addEventListener("click",n);const _="LibraryMovie",y={data:l.release_date,id:e,title:l.title,popularity:m,voteAverage:d,img:u,voteCount:l.vote_count,genres:c,overview:l.overview};function t(){let e=JSON.parse(localStorage.getItem(_))||[];e.push(y),localStorage.setItem(_,JSON.stringify(e)),g.classList.add("hidden"),p.classList.remove("hidden")}function n(){let t=JSON.parse(localStorage.getItem(_));const n=t.findIndex((t=>t.id===e));t.splice(n,1),localStorage.setItem(_,JSON.stringify(t)),g.classList.remove("hidden"),p.classList.add("hidden")}function a(){try{const t=localStorage.getItem(_),n=JSON.parse(t);if(null===n)return;n.map((t=>{t.id===e&&(g.classList.add("hidden"),p.classList.remove("hidden"))}))}catch(e){console.error(e)}}a()}catch(v){console.error(v)}}(e.target.closest(".gallery__item ").id)}));const l=document.getElementById("scroll-up-btn");window.addEventListener("scroll",(function(){window.scrollY>20?l.style.display="block":l.style.display="none"})),l.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));var s=a("7rYDH"),c=a("iLH9r");function d(){return{rating:document.querySelectorAll(".rating"),wrapper:document.querySelector(".article__list"),gallery:document.querySelector(".gallery")}}document.querySelector("body"),document.querySelector(".modal__close-btn"),document.querySelector(".modal"),document.querySelector(".backdrop"),document.querySelector(".team__modal-open"),document.querySelector('[data-action="deleted-class"]'),document.querySelector(".footer-modal__close-btn"),document.querySelector("button[name=watched]");const m=d();function u(){if(m.rating.length>0)for(let e=0;e<m.rating.length;e++){g(m.rating[e])}}function g(e){const t=e.querySelector(".rating__active"),n=e.querySelector(".rating__value");e.querySelectorAll(".rating__item").forEach((e=>{e.addEventListener("click",(()=>{n.innerHTML=e.value,p(t,n)}))})),p(t,n)}function p(e,t){const n=t.innerHTML/.025;e.style.width=`${n}%`}const _=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],y=e=>{if(!Array.isArray(e))return"Unknown genre";const t=_.filter((({id:t})=>e.includes(t))).map((({name:e})=>e));return t.length?t.length>2?`${t.slice(0,2).join(", ")}`:t.join(", "):"Unknown genre"},v=d();function h(e){return e.map((({poster_path:e,title:t,vote_average:n,release_date:a,genre_ids:i,id:o})=>{const r=y(i),l=new Date(a).getFullYear(),s=e?`https://image.tmdb.org/t/p/w500/${e}`:"https://via.placeholder.com/395x574?text=No+Image";return u(),`<li class="gallery__item" id='${o}'>\n        <article>\n        <img class="gallery__img" src="${s}" alt="${t}" width="395" >\n          <div class="gallery__details">\n            <p class="details__title">${t}</p>\n            <div class="wraper__details">\n            <p class="movieGenres">${r} | ${l}</p>\n             <div class="rating">\n              <div class="rating__body">\n              <div class="rating__active" style="width: ${10*n}%;"></div>>\n                <div class="rating__items">\n                  <input type="radio" class="rating__item" value="1" name="rating" />\n                  <input type="radio" class="rating__item" value="2" name="rating" />\n                  <input type="radio" class="rating__item" value="3" name="rating" />\n                  <input type="radio" class="rating__item" value="4" name="rating" />\n                  <input type="radio" class="rating__item" value="5" name="rating" />\n                </div>\n              </div>\n              <div class="rating__value">${n}</div>\n            </div>\n            </div>\n          </div>\n        </article>\n        </li>`}))}function b(){v.gallery.innerHTML=""}const f=new(0,s.default);!async function(){try{const t=await f.weekTrends();e=t.results.slice(0,10),b(),v.gallery.innerHTML=h(e).join("")}catch(e){c.noFilmError}var e}();
//# sourceMappingURL=catalog.7a6ddeff.js.map
