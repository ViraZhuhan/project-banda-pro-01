!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequire991f;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequire991f=o);(function(){console.log("hello");var e=document.querySelector(".mobile-menu"),t=document.querySelector(".header-menu"),n=document.querySelector(".menu-open"),a=document.getElementsByTagName("body")[0],o=document.querySelectorAll(".navigation-menu__link"),r=function(){var n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.setAttribute("aria-hidden",n),t.classList.toggle("opened"),e.classList.toggle("is-hidden"),a.classList.toggle("scroll-block")};n.addEventListener("click",r),o.forEach((function(e){return e.addEventListener("click",r)})),e.addEventListener("click",(function(e){return e.target===e.currentTarget&&r()})),window.matchMedia("(min-width: 768px)").addEventListener("change",(function(n){n.matches&&(e.classList.add("is-hidden"),t.setAttribute("aria-expanded",!1),t.classList.remove("opened"),a.classList.remove("scroll-block"))}))})(),r=document.documentElement,i=localStorage.getItem("color-theme"),c=document.querySelector('.switch input[type="checkbox"]'),"light"===i&&(c.checked=!0),c.addEventListener("input",(function(){var e=r.className;r.className="dark"===e?"light":"dark",localStorage.setItem("color-theme",r.className)}));var r,i,c,s,l=(0,o("8nXZc").default)(),d=(s=window.location.pathname.split("?")[0],l.pageLinks.forEach((function(e){var t=e.getAttribute("href");"/index.html"===s&&"/"===t||t===s?e.classList.add("navigation__link--current"):e.classList.remove("navigation__link--current")})),l.pageLinksMobile.forEach((function(e){var t=e.getAttribute("href");"/index.html"===s&&"/"===t||t===s?e.classList.add("navigation-menu__link--current"):e.classList.remove("navigation-menu__link--current")})),o("bpxeT")),u=o("2TvXO"),p=new(0,o("b7ONl").default),m={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal"),gallery:document.querySelector(".gallery")},g=function(){m.backdrop.classList.toggle("hidden")};function v(){return(v=e(d)(e(u).mark((function t(n){var a,o,r,i,c,s,l,d,v,f,h,_,y;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){var e=JSON.parse(localStorage.getItem(v))||[];e.push(f),localStorage.setItem(v,JSON.stringify(e)),l.classList.add("hidden"),d.classList.remove("hidden")},_=function(){var e=JSON.parse(localStorage.getItem(v)),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),localStorage.setItem(v,JSON.stringify(e)),l.classList.remove("hidden"),d.classList.add("hidden")},y=function(){try{var e=localStorage.getItem(v),t=JSON.parse(e);if(null===t)return;t.map((function(e){e.id===n&&(l.classList.add("hidden"),d.classList.remove("hidden"))}))}catch(e){console.error(e)}},e.prev=3,e.next=6,p.getDetailsById(n);case 6:a=e.sent,o=a.genres,r=[],o.map((function(e){r.push(e.name)})),i=a.vote_average.toFixed(2),c=a.popularity.toFixed(1),s=a.poster_path?"https://image.tmdb.org/t/p/w500/".concat(a.poster_path):"https://via.placeholder.com/395x574?text=No+Image",m.modal.innerHTML='\n    <img class="modal__img" src='.concat(s," alt=").concat(a.original_name,' loading="lazy">\n    <div class="modal__items">\n      <h1 class="modal__title">').concat(a.title,'</h1>\n      <p class="modal__rating">Vote / Votes\n        <span class="modal__rating_span">\n          <span class="rating-vote">').concat(i,'</span> /\n          <span class="rating-vote">').concat(a.vote_count,'</span>\n        </span>\n      </p>\n      <p class="modal__popularity">Popularity <span>').concat(c,'</span> </p>\n      <p class="modal__genre">Genre <span>').concat(r.join(" "),'</span></p>\n      <p class="modal__about">ABOUT</p>\n      <p class="modal__description">').concat(a.overview,'</p>\n      <button class="button-add" type="button"><span class="button-add__tex">Add to my library</span> </button>\n      <button class="button-remove hidden" type="button"><span class="button-add__tex">Remove from my library</span> </button>\n    </div>'),l=document.querySelector(".button-add"),d=document.querySelector(".button-remove"),document.querySelector(".button__close").addEventListener("click",g),l.addEventListener("click",h),d.addEventListener("click",_),v="LibraryMovie",f={data:a.release_date,id:n,title:a.title,popularity:c,voteAverage:i,img:s,voteCount:a.vote_count,genres:r,overview:a.overview},y(),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(3),console.error(e.t0);case 31:case"end":return e.stop()}}),t,null,[[3,28]])})))).apply(this,arguments)}window.addEventListener("keydown",(function(e){"Escape"===e.key&&m.backdrop.classList.add("hidden")})),m.backdrop.addEventListener("click",(function(e){"backdrop"===e.target.className&&g()})),m.gallery.addEventListener("click",(function(e){g(),function(e){v.apply(this,arguments)}(e.target.closest(".gallery__item ").id)}));var f=document.getElementById("scroll-up-btn");window.addEventListener("scroll",(function(){window.scrollY>20?f.style.display="block":f.style.display="none"})),f.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),o("7lHWV")}();
//# sourceMappingURL=catalog.2c038979.js.map
