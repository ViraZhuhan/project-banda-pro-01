{"mappings":"iiBAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,wGAQME,EAAY,IAAI,EAAAC,EAAAC,SAChBC,GAAO,EAAAC,EAAAF,W,SAIEG,I,OAAAA,EAAfC,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAAkCC,G,kEAChCA,EAAEC,iBACFX,EAAUY,MAAQT,EAAKU,YAAYC,MACnCC,YAAcf,EAAUY,MAEpBG,aACFC,EAAaD,a,4CANgBE,MAAAC,KAAAC,U,UAUlBH,EAAaJ,G,OAAbQ,EAAYH,MAAAC,KAAAC,U,UAAZC,I,OAAAA,EAAfd,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAA4BG,G,IAElBS,E,2FAAiBrB,EAAUsB,mBAAmBV,G,OAE3B,QAFnBS,EAAQE,EAAAC,MAEDC,SAAgD,IAA5BJ,EAASI,QAAQC,QAC/CC,QAAQC,IAAI,OACZC,KACD,EAAAC,EAAAC,iBAGOV,EAASI,UAChB,EAAAK,EAAAE,eAAcX,EAASI,QAAQQ,MAAM,EAAG,K,gDAI1CN,QAAQC,IAAGL,EAAAW,I,0DAfYjB,MAAAC,KAAAC,U,CAmB3B,SAASU,IACP1B,EAAKgC,eAAeC,mBAClB,cACC,+H,CAlCLjC,EAAKkC,WAAWC,iBAAiB,U,SAEC5B,G,OAAnBL,EAAkBY,MAAAC,KAAAC,U","sources":["src/catalog.js","src/js/seachcatalog.js"],"sourcesContent":["import mobileMenu from './js/mobile-menu';\nimport themeToggle from './js/themeToggle';\nimport header from './js/header';\nimport seachcatalog from './js/seachcatalog';\nimport modalMovie from './js/modal_movie';\nimport scrollUp from './js/scroll-up';\nimport createWeekTrendsCatalog from './js/createTrends';\n// import handleSearchFormSubmit from './js/seachcatalog';\n","import Api from './api';\nimport { Loading } from 'notiflix';\nimport { initRatings } from './init-rating';\nimport { noFilmError, onFetchError } from './msg-error';\nimport getRefs from './components/get-refs';\nimport { genresList } from './components/genre-list';\nimport { createGallery, clearGallery } from './render-card';\n\nconst searchApi = new Api();\nconst refs = getRefs();\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\n\nasync function onSearchFormSubmit(e) {\n  e.preventDefault();\n  searchApi.query = refs.searchInput.value;\n  searchQuery = searchApi.query;\n\n  if (searchQuery) {\n    searchMovies(searchQuery);\n  }\n}\n\nasync function searchMovies(query) {\n  try {\n    const response = await searchApi.searchMovieByQuery(query);\n\n    if (response.results === null || response.results.length === 0) {\n       console.log('not')    \n       noSearchResults();\n      clearGallery();\n\n    }\n    else if (response.results) {\n      createGallery(response.results.slice(0, 10));\n    }\n\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction noSearchResults() {\n  refs.galleryCatalog.insertAdjacentHTML(\n    \"beforebegin\",\n    `<p class=\"no-results\">\n  OOPS...<br />\n  We are very sorry!<br />\n  We don’t have any results due to your search.\n  </p>`\n  )\n}\n\n\nexport { onSearchFormSubmit };\n\n// Володя\n\n// const form = document.getElementById('search-form');\n// const input = document.getElementById('search-input');\n// const movieList = document.getElementById('movie-list');\n\n// form.addEventListener('submit', async (event) => {\n//   event.preventDefault();\n//   const searchQuery = input.value;\n//   movieList.innerHTML = '';\n//   try {\n//     Loading.pulse();\n//     const results = await searchApi.searchMovies(searchQuery);\n//     Loading.remove();\n//     if (results.length === 0) {\n//       const message = document.createElement('p');\n//       message.textContent = 'OOPS... We are very sorry! We don’t have any results due to your search.';\n//       movieList.appendChild(message);\n//     } else {\n//       results.forEach(result => {\n//         const movie = document.createElement('div');\n//         movie.classList.add('movie');\n//         movie.innerHTML = `\n//           <h2>${result.title}</h2>\n//           <img src=\"https://image.tmdb.org/t/p/w500${result.poster_path}\" alt=\"${result.title}\">\n//           <p>${result.overview}</p>\n//         `;\n//         movieList.appendChild(movie);\n//       });\n//     }\n//   } catch (error) {\n//     console.error(error);\n//     Loading.remove();\n//     const message = document.createElement('p');\n//     message.textContent = 'Oops! Something went wrong.';\n//     movieList.appendChild(message);\n//   }\n// });\n\n// const form = document.getElementById('search-form');\n// const input = document.getElementById('search-input');\n// const movieList = document.getElementById('movie-list');\n// const MOVIE_URL = `https://api.themoviedb.org/3/`;\n// const API_KEY = '225e339996bc91260b33199c383c8881';\n\n// const searchForMovies = (apiKey, query) => {\n//   form.addEventListener('submit', (event) => {\n//     event.preventDefault();\n\n//     const searchQuery = input.value;\n\n//     // Clear the movie list\n//     movieList.innerHTML = '';\n\n//     // Call API to search for movies\n//     fetch(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${query}`)\n//       .then(response => response.json())\n//       .then(data => {\n//         if (data.total_results === 0) {\n//           // No results found\n//           const message = document.createElement('p');\n//           message.textContent = 'OOPS... We are very sorry! We don’t have any results due to your search.';\n//           movieList.appendChild(message);\n//         } else {\n//           // Results found\n//           const results = data.results;\n//           results.forEach(result => {\n//             const movie = document.createElement('div');\n//             movie.classList.add('movie');\n//             movie.innerHTML = `\n//               <h2>${result.title}</h2>\n//               <img src=\"https://image.tmdb.org/t/p/w500${result.poster_path}\" alt=\"${result.title}\">\n//               <p>${result.overview}</p>\n//             `;\n//             movieList.appendChild(movie);\n//           });\n//         }\n//       })\n//       .catch(error => {\n//         console.error(error);\n//         const message = document.createElement('p');\n//         message.textContent = 'Oops! Something went wrong.';\n//         movieList.appendChild(message);\n//       });\n//   });\n// }\n// // Example usage:\n// searchForMovies('YOUR_API_KEY', '225e339996bc91260b33199c383c8881')\n\n// Ілона\n\n// const axios = require('axios').default;\n\n// const API_KEY = '225e339996bc91260b33199c383c8881';\n// const BASE_URL = 'https://api.themoviedb.org/3';\n// const URL_SEARCH_MOVIE = `${BASE_URL}/search/movie`;\n// const URL_GET_MOVIE = `${BASE_URL}/movie`;\n\n// const searchForm = document.querySelector('#search-form');\n// const searchInput = document.querySelector('#search-input');\n// const movieList = document.querySelector('#movie-list');\n// const prevButton = document.querySelector('#btn-back');\n// const nextButton = document.querySelector('#btn-next');\n\n// let currentPage = 1;\n// let totalPages = 1;\n\n// async function searchMovies(query, page = 1) {\n//   const response = await axios.get(URL_SEARCH_MOVIE, {\n//     params: {\n//       api_key: API_KEY,\n//       query,\n//       page,\n//     },\n//   });\n//   const { results, total_pages } = response.data;\n//   totalPages = total_pages;\n//   return results;\n// }\n\n// async function renderMovie(movie) {\n//   const movieGenre = await getGenre(movie.id);\n//   const movieYear = await getYear(movie.release_date);\n//   const imgSrc = `https://image.tmdb.org/t/p/w500/${movie.poster_path}`;\n//   return `<li class='cards__list'>\n//     <img src='${imgSrc}' alt='${movie.title}' width='395' height='574' />\n//     <div class=\"search__render\">\n//       <h3>${movie.title}</h3>\n//       <p>${movieGenre} <span>| ${movieYear}</span></p>\n//       <p>${movie.vote_average}</p>\n//     </div>\n//   </li>`;\n// }\n\n// async function getGenre(movieId) {\n//   const response = await axios.get(`${URL_GET_MOVIE}/${movieId}`, {\n//     params: {\n//       api_key: API_KEY,\n//     },\n//   });\n//   const genres = response.data.genres\n//     .slice(0, 2)\n//     .map(genre => genre.name)\n//     .join(', ');\n//   return genres;\n// }\n\n// function getYear(dateString) {\n//   return dateString ? dateString.slice(0, 4) : '';\n// }\n\n// async function renderMovies(movies) {\n//   let markup = '';\n//   for (const movie of movies) {\n//     if (!movie || !movie.poster_path) continue;\n//     markup += await renderMovie(movie);\n//   }\n//   movieList.innerHTML = markup;\n// }\n\n// async function handleSearchFormSubmit(e) {\n//   e.preventDefault();\n//   const query = searchInput.value;\n//   const movies = await searchMovies(query);\n//   await renderMovies(movies);\n//   currentPage = 1;\n// }\n\n// function handlePrevButtonClick() {\n//   if (currentPage > 1) {\n//     currentPage--;\n//     renderMovies(searchInput.value, currentPage);\n//   }\n// }\n\n// function handleNextButtonClick() {\n//   if (currentPage < totalPages) {\n//     currentPage++;\n//     renderMovies(searchInput.value, currentPage);\n//   }\n// }\n\n// searchForm.addEventListener('submit', handleSearchFormSubmit);\n// prevButton.addEventListener('click', handlePrevButtonClick);\n// nextButton.addEventListener('click', handleNextButtonClick);\n\n// async function renderWeekMovies() {\n//   const movies = await searchMovies('week');\n//   await renderMovies(movies);\n// }\n\n// renderWeekMovies();\n"],"names":["parcelRequire","$bpxeT","$4bf6a4821dfe0cdf$var$searchApi","$b7ONl","default","$4bf6a4821dfe0cdf$var$refs","$8nXZc","$4bf6a4821dfe0cdf$var$_onSearchFormSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","e","preventDefault","query","searchInput","value","searchQuery","$4bf6a4821dfe0cdf$var$searchMovies","apply","this","arguments","$4bf6a4821dfe0cdf$var$_searchMovies","response","searchMovieByQuery","_ctx","sent","results","length","console","log","$4bf6a4821dfe0cdf$var$noSearchResults","$cwHAv","clearGallery","createGallery","slice","t0","galleryCatalog","insertAdjacentHTML","searchForm","addEventListener"],"version":3,"file":"catalog.63b87fff.js.map"}