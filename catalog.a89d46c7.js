var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire991f;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequire991f=a);const o=(0,a("dbTx9").default)();(()=>{console.log("hello");const e=()=>{const e="true"===o.headerContainer.getAttribute("aria-expanded")||!1;o.headerContainer.setAttribute("aria-expanded",!e),o.mobileMenu.setAttribute("aria-hidden",e),o.headerContainer.classList.toggle("opened"),o.mobileMenu.classList.toggle("is-hidden"),o.body.classList.toggle("scroll-block")};o.openMenuBtn.addEventListener("click",e),o.linkButton.forEach((t=>t.addEventListener("click",e))),o.mobileMenu.addEventListener("click",(t=>t.target===t.currentTarget&&e())),window.matchMedia("(min-width: 768px)").addEventListener("change",(e=>{e.matches&&(o.mobileMenu.classList.add("is-hidden"),o.headerContainer.setAttribute("aria-expanded",!1),o.headerContainer.classList.remove("opened"),o.body.classList.remove("scroll-block"))}))})();const s=(0,a("dbTx9").default)();"light"===s.savedTheme&&(s.switcher.checked=!0),s.switcher.addEventListener("input",(()=>{const e=s.html.className;s.html.className="dark"===e?"light":"dark",localStorage.setItem("color-theme",s.html.className)}));const i=(0,a("dbTx9").default)();(()=>{const e=window.location.pathname.split("?")[0];i.pageLinks.forEach((t=>{const n=t.getAttribute("href");("/index.html"!==e||"/"!==n)&&n!==e?t.classList.remove("navigation__link--current"):t.classList.add("navigation__link--current")})),i.pageLinksMobile.forEach((t=>{const n=t.getAttribute("href");("/index.html"!==e||"/"!==n)&&n!==e?t.classList.remove("navigation-menu__link--current"):t.classList.add("navigation-menu__link--current")}))})();const l=new(0,a("7rYDH").default),r={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal"),gallery:document.querySelector(".gallery")},d=()=>{r.backdrop.classList.toggle("hidden")};window.addEventListener("keydown",(e=>{"Escape"===e.key&&r.backdrop.classList.add("hidden")})),r.backdrop.addEventListener("click",(e=>{"backdrop"===e.target.className&&d()})),r.gallery.addEventListener("click",(e=>{d(),async function(e){try{const o=await l.getDetailsById(e),s=o.genres,i=[];s.map((e=>{i.push(e.name)}));const c=o.vote_average.toFixed(2),p=o.popularity.toFixed(1),u=o.poster_path?`https://image.tmdb.org/t/p/w500/${o.poster_path}`:"https://via.placeholder.com/395x574?text=No+Image";r.modal.innerHTML=`\n    <img class="modal__img" src=${u} alt=${o.original_name} loading="lazy">\n    <div class="modal__items">\n      <h1 class="modal__title">${o.title}</h1>\n      <p class="modal__rating">Vote / Votes\n        <span class="modal__rating_span">\n          <span class="rating-vote">${c}</span> /\n          <span class="rating-vote">${o.vote_count}</span>\n        </span>\n      </p>\n      <p class="modal__popularity">Popularity <span>${p}</span> </p>\n      <p class="modal__genre">Genre <span>${i.join(" ")}</span></p>\n      <p class="modal__about">ABOUT</p>\n      <p class="modal__description">${o.overview}</p>\n      <button class="button-add" type="button"><span class="button-add__tex">Add to my library</span> </button>\n      <button class="button-remove hidden" type="button"><span class="button-add__tex">Remove from my library</span> </button>\n    </div>`;const m=document.querySelector(".button-add"),g=document.querySelector(".button-remove");document.querySelector(".button__close").addEventListener("click",d),m.addEventListener("click",t),g.addEventListener("click",n);const h="LibraryMovie",v={data:o.release_date,id:e,title:o.title,popularity:p,voteAverage:c,img:u,voteCount:o.vote_count,genres:i,overview:o.overview};function t(){let e=JSON.parse(localStorage.getItem(h))||[];e.push(v),localStorage.setItem(h,JSON.stringify(e)),m.classList.add("hidden"),g.classList.remove("hidden")}function n(){let t=JSON.parse(localStorage.getItem(h));const n=t.findIndex((t=>t.id===e));t.splice(n,1),localStorage.setItem(h,JSON.stringify(t)),m.classList.remove("hidden"),g.classList.add("hidden")}function a(){try{const t=localStorage.getItem(h),n=JSON.parse(t);if(null===n)return;n.map((t=>{t.id===e&&(m.classList.add("hidden"),g.classList.remove("hidden"))}))}catch(e){console.error(e)}}a()}catch(b){console.error(b)}}(e.target.closest(".gallery__item ").id)}));const c=(0,a("dbTx9").default)();window.addEventListener("scroll",(function(){window.scrollY>20?c.scrollUpBtn.style.display="block":c.scrollUpBtn.style.display="none"})),c.scrollUpBtn.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),a("17t3Z");
//# sourceMappingURL=catalog.a89d46c7.js.map
