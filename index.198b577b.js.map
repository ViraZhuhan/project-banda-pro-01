{"mappings":"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","sources":["src/js/header.js","src/js/components/get-refs.js","src/js/mobile-menu.js","src/js/themeToggle.js","src/js/api.js","src/js/init-rating.js","src/js/scroll-up.js","src/js/modal_movie.js","src/js/render-card.js","src/js/components/genre-list.js","src/js/components/genres.js"],"sourcesContent":["// Higlights active link in navigation menu / mobile menu\nimport getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n \n  const pathName = window.location.pathname.split('?')[0];\n  const homeHrefs = ['/index.html', '/'];\n\n  refs.pageLinks.forEach(link => {\n    const url = link.getAttribute('href');\n    if (homeHrefs.includes(pathName) && homeHrefs.includes(url)) {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    link.classList.remove('navigation__link--current');\n  });\n  refs.pageLinksMobile.forEach(link => {\n    const url = link.getAttribute('href');\n    if (homeHrefs.includes(pathName) && homeHrefs.includes(url)) {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    link.classList.remove('navigation-menu__link--current');\n  });\n})();\n","export default function getRefs() {\n  return {\n    // theme-toggle\n    html: document.documentElement,\n    savedTheme: localStorage.getItem('color-theme'),\n    switcher: document.querySelector('.switch input[type=\"checkbox\"]'),\n\n    // render-cards\n    rating: document.querySelectorAll('.rating'),\n    gallery: document.querySelector('.gallery'),\n\n    // header\n    pageLinks: document.querySelectorAll('.navigation__link'),\n    pageLinksMobile: document.querySelectorAll('.navigation-menu__link'),\n\n    // mobil-menu\n    mobileMenu: document.querySelector('.mobile-menu'),\n    headerContainer: document.querySelector('.header-menu'),\n    openMenuBtn: document.querySelector('.menu-open'),\n    body: document.getElementsByTagName('body')[0],\n    linkButton: document.querySelectorAll('.navigation-menu__link'),\n    backdrop: document.querySelector('.backdrop'),\n\n    // modal-team\n    openModal: document.querySelector('.open-modal-team'),\n    closeModal: document.querySelector('.close-modal-team'),\n    teamBackdrop: document.querySelector('.backdrop-modal'),\n    teamModal: document.getElementsByClassName('team__modal'),\n\n    // backdrop\n    body: document.querySelector('body'),\n    closeModalBtn: document.querySelector('.modal__close-btn'),\n    modal: document.querySelector('.modal'),\n    backdrop: document.querySelector('.backdrop'),\n    footerLink: document.querySelector('.team__modal-open'),\n    footerBackdrop: document.querySelector('[data-action=\"deleted-class\"]'),\n    modalCloseBtn: document.querySelector('.footer-modal__close-btn'),\n    watchedBtn: document.querySelector('button[name=watched]'),\n\n    // modal-emty\n    modalEmptyEl: document.querySelector('.modal-empty__backdrop'),\n    closeModalEmptyEl: document.querySelector('.modal-empty__close'),\n\n    // scroll-up\n    // Get the button element\n    scrollUpBtn: document.getElementById('scroll-up-btn'),\n\n    // init-rating\n    // ratingActive: rating.querySelector('.rating__active'),\n    // ratingValue: rating.querySelector('.rating__value'),\n    // ratingItems: rating.querySelectorAll('.rating__item'),\n  };\n}\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n  /* const closeMenuBtn = document.querySelector('.menu-close'); */\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      refs.headerContainer.getAttribute('aria-expanded') === 'true' || false;\n    refs.headerContainer.setAttribute('aria-expanded', !isMenuOpen);\n    refs.mobileMenu.setAttribute('aria-hidden', isMenuOpen);\n    refs.headerContainer.classList.toggle('opened');\n    refs.mobileMenu.classList.toggle('is-hidden');\n    refs.body.classList.toggle('scroll-block');\n\n    /* const scrollLockMethod = !isMenuOpen\n      ? \"disableBodyScroll\"\n      : \"enableBodyScroll\";\n    bodyScrollLock[scrollLockMethod](document.body); */\n  };\n\n  const hideOnClickOutside = e => e.target === e.currentTarget && toggleMenu();\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  /* closeMenuBtn.addEventListener('click', toggleMenu); */\n  refs.linkButton.forEach(button =>\n    button.addEventListener('click', toggleMenu)\n  );\n  refs.mobileMenu.addEventListener('click', hideOnClickOutside);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    refs.mobileMenu.classList.add('is-hidden');\n    refs.headerContainer.setAttribute('aria-expanded', false);\n    refs.headerContainer.classList.remove('opened');\n    refs.body.classList.remove('scroll-block');\n    /* bodyScrollLock.enableBodyScroll(document.body); */\n  });\n})();\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\n// Switch theme by changing root element class based on checkbox input state\nexport default (() => {\n  if (refs.savedTheme === 'light') refs.switcher.checked = true;\n  refs.switcher.addEventListener('input', () => {\n    const theme = refs.html.className;\n    refs.html.className = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('color-theme', refs.html.className);\n  });\n})();\n","import axios from 'axios';\n\nconst MOVIE_URL = `https://api.themoviedb.org/3/`;\nconst API_KEY = '225e339996bc91260b33199c383c8881';\n\n// as looking by id\nconst example = `${MOVIE_URL}movie/550?api_key=${API_KEY}`;\n\n// all - movie - tv - person | week - day |\nconst dayRoute = `${MOVIE_URL}trending/all/day?api_key=${API_KEY}`;\nconst weekRoute = `${MOVIE_URL}trending/all/week?api_key=${API_KEY}`;\n\n// genres\nconst genresRoute = `${MOVIE_URL}/genre/movie/list?api_key=${API_KEY}`;\n\n// genres\nconst countriesRoute = `${MOVIE_URL}configuration/countries?api_key=${API_KEY}`;\n\n//\nconst upcoming = `${MOVIE_URL}movie/upcoming?api_key=${API_KEY}`;\n\nexport default class Api {\n  constructor() {\n    this.page = 1;\n  }\n\n  nextPage() {\n    this.page += 1;\n  }\n  prevPage() {\n    this.page -= 1;\n  }\n  setPage(value) {\n    this.page = value;\n  }\n  getCurrentPage() {\n    return this.page;\n  }\n  reset() {\n    this.page = 1;\n  }\n\n  async dayTrends() {\n    try {\n      const response = await fetch(`${dayRoute}&page=${this.page}`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      throw new Error('Error fetching movie data: ' + error);\n    }\n  }\n\n  async weekTrends() {\n    try {\n      const response = await fetch(`${weekRoute}&page=${this.page}`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      throw new Error('Error fetching movie data: ' + error);\n    }\n  }\n\n  async upcoming() {\n    try {\n      const response = await fetch(`${upcoming}&page=${this.page}`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      throw new Error('Error fetching movie data: ' + error);\n    }\n  }\n\n    async getDetailsById(id) {\n    const str = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`;\n    return fetch(str).then(res => res.json());\n  }\n\n  async fetchGenres() {\n    try {\n      const response = await fetch(genresRoute);\n      const data = await response.json();\n      return data.genres;\n    } catch (error) {\n      throw new Error('Error fetching genres data: ' + error);\n    }\n  }\n\n    async countries() {\n    await new Promise(r => setTimeout(r, 1000));\n    return fetch(`${countriesRoute}&page=${this.page}`).then(res => res.json());\n  }\n\n  async searhByNameYear(obj = {}) {\n    let str = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&include_adult=false`;\n\n    const keys = Object.keys(obj);\n\n    if (keys.length !== 0) {\n      for (const key of keys) {\n        if (\n          ((key === 'year' || key === 'query' || key === 'page') &&\n            obj[key]) !== null\n        ) {\n          str += `&${key}=${obj[key]}`;\n        }\n      }\n    }\n    await new Promise(r => setTimeout(r, 1000));\n    return fetch(str).then(res => res.json());\n  }\n\n}\n\n\n// export default class ApiServer {\n//   #API_KEY = '225e339996bc91260b33199c383c8881';\n//   #dayTops = 'https://api.themoviedb.org/3/trending/all/day?';\n//   #weekTops = 'https://api.themoviedb.org/3/trending/all/week?';\n//   #upcoming = 'https://api.themoviedb.org/3/all/upcoming?&language=en-US';\n\n//   constructor() {\n//     this.page = 1;\n//   }\n\n//   nextPage() {\n//     this.page += 1;\n//   }\n//   prevPage() {\n//     this.page -= 1;\n//   }\n//   setPage(value) {\n//     this.page = value;\n//   }\n//   getCurrentPage() {\n//     return this.page;\n//   }\n//   reset() {\n//     this.page = 1;\n//   }\n\n//   // [] для фильма дня\n//   async dayTrends() {\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(\n//       `${this.#dayTops}api_key=${this.#API_KEY}&page=${this.page}`\n//     ).then(res => res.json());\n//   }\n\n//   // [] для фильмов недели\n//   async weekTrends() {\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(\n//       `${this.#weekTops}api_key=${this.#API_KEY}&page=${this.page}`\n//     ).then(res => res.json());\n//   }\n\n//   // [] для новинок\n//   async upcoming() {\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(\n//       `${this.#upcoming}&api_key=${this.#API_KEY}&page=${this.page}`\n//     ).then(res => res.json());\n//   }\n\n//   // {} для модалки с полной инфо\n//   async getDetailsById(id) {\n//     const str = `https://api.themoviedb.org/3/movie/${id}?api_key=${\n//       this.#API_KEY\n//     }`;\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(str).then(res => res.json());\n//   }\n\n//   // [] список всех стран\n//   async countries() {\n//     const str = `https://api.themoviedb.org/3/configuration/countries?api_key=${\n//       this.#API_KEY\n//     }`;\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(str).then(res => res.json());\n//   }\n\n//   // [] список всех жанров\n//   async fetchGenres() {\n//     const str = `https://api.themoviedb.org/3/genre/movie/list?api_key=${\n//       this.#API_KEY\n//     }&language=en-US`;\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(str).then(res => res.json());\n//   }\n\n//   // [] поиск по назв, год, стр, принимает {query: string, year: int, page: int}\n//   // фильтровать по: | 'release_date' | 'genre_ids' | 'origin_country'(не везде)\n//   async searhByNameYear(obj = {}) {\n//     let str = `https://api.themoviedb.org/3/search/movie?api_key=${\n//       this.#API_KEY\n//     }&language=en-US&include_adult=false`;\n\n//     const keys = Object.keys(obj);\n\n//     if (keys.length !== 0) {\n//       for (const key of keys) {\n//         if (\n//           ((key === 'year' || key === 'query' || key === 'page') &&\n//             obj[key]) !== null\n//         ) {\n//           str += `&${key}=${obj[key]}`;\n//         }\n//       }\n//     }\n\n//     await new Promise(r => setTimeout(r, 1000));\n//     return fetch(str).then(res => res.json());\n//   }\n// }\n","import getRefs from './components/get-refs';\nconst refs = getRefs();\n\nexport function initRatings() {\n  if (refs.rating.length > 0) {\n    for (let index = 0; index < refs.rating.length; index++) {\n      const ratingElement = refs.rating[index];\n      initRating(ratingElement);\n    }\n  }\n}\n\nfunction initRating(rating) {\n  const ratingActive = rating.querySelector('.rating__active');\n  const ratingValue = rating.querySelector('.rating__value');\n  const ratingItems = rating.querySelectorAll('.rating__item');\n\n  ratingItems.forEach(item => {\n    item.addEventListener('click', () => {\n      ratingValue.innerHTML = item.value;\n      setRatingActiveWidth(ratingActive, ratingValue);\n    });\n  });\n  setRatingActiveWidth(ratingActive, ratingValue);\n}\n\n\nfunction setRatingActiveWidth(ratingActive, ratingValue) {\n  const ratingActiveWidth = ratingValue.innerHTML / 0.025;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n  \n\n\n  ","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\n// Add a scroll event listener to the window object\nwindow.addEventListener('scroll', function () {\n  // If the user has scrolled down more than 20 pixels, show the button\n  if (window.scrollY > 20) {\n    refs.scrollUpBtn.style.display = 'block';\n  } else {\n    // Otherwise, hide the button\n    refs.scrollUpBtn.style.display = 'none';\n  }\n});\n// Add a click event listener to the button\nrefs.scrollUpBtn.addEventListener('click', function () {\n  // Scroll the page to the top with smooth animation\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n","import Api from './api';\nconst api = new Api();\n\nconst refs = {\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  gallery: document.querySelector('.gallery'),\n};\nconst toggleModal = () => {\n  refs.backdrop.classList.toggle('hidden');\n};\n// ========================CLICK ESP=====================\n\nwindow.addEventListener('keydown', event => {\n  if (event.key === 'Escape') refs.backdrop.classList.add('hidden');\n});\n// ========================CLICK backdrop================\n\nrefs.backdrop.addEventListener('click', event => {\n  if (event.target.className === 'backdrop') {\n    toggleModal();\n  }\n});\n\n// ========================CLICK Open=====================\n\nrefs.gallery.addEventListener('click', event => {\n  toggleModal();\n  let idOfCard = event.target.closest('.gallery__item ').id;\n  modalMovie(idOfCard);\n});\n\n// ========================CLICK closed=====================\n\n// ========================================================\n\nexport async function modalMovie(id) {\n  try {\n    const data = await api.getDetailsById(id);\n    const idGenres = data.genres;\n    const newGenreMovie = [];\n    idGenres.map(elem => {\n      newGenreMovie.push(elem.name);\n    });\n\n    const voteAverage = data.vote_average.toFixed(2);\n    const popularity = data.popularity.toFixed(1);\n    const imageUrl = data.poster_path\n      ? `https://image.tmdb.org/t/p/w500/${data.poster_path}`\n      : 'https://via.placeholder.com/395x574?text=No+Image';\n\n    refs.modal.innerHTML = `\n    <img class=\"modal__img\" src=${imageUrl} alt=${\n      data.original_name\n    } loading=\"lazy\">\n    <div class=\"modal__items\">\n      <h1 class=\"modal__title\">${data.title}</h1>\n      <p class=\"modal__rating\">Vote / Votes\n        <span class=\"modal__rating_span\">\n          <span class=\"rating-vote\">${voteAverage}</span> /\n          <span class=\"rating-vote\">${data.vote_count}</span>\n        </span>\n      </p>\n      <p class=\"modal__popularity\">Popularity <span>${popularity}</span> </p>\n      <p class=\"modal__genre\">Genre <span>${newGenreMovie.join(' ')}</span></p>\n      <p class=\"modal__about\">ABOUT</p>\n      <p class=\"modal__description\">${data.overview}</p>\n      <button class=\"button-add\" type=\"button\"><span class=\"button-add__tex\">Add to my library</span> </button>\n      <button class=\"button-remove hidden\" type=\"button\"><span class=\"button-add__tex\">Remove from my library</span> </button>\n    </div>`;\n\n    const buttonAdd = document.querySelector('.button-add');\n    const buttonRemove = document.querySelector('.button-remove');\n    const closeModalBtn = document.querySelector('.button__close');\n\n    closeModalBtn.addEventListener('click', toggleModal);\n    buttonAdd.addEventListener('click', addLS);\n    buttonRemove.addEventListener('click', removeLS);\n\n    const ID_GENRE = idGenres.map(({ id }) => id);\n    const KEY = 'LibraryMovie';\n    const movieItem = {\n      release_date: data.release_date,\n      id,\n      title: data.title,\n      popularity,\n      vote_average: voteAverage,\n      poster_path: imageUrl,\n      vote_count: data.vote_count,\n      genre_ids: ID_GENRE,\n      overview: data.overview,\n    };\n    function addLS() {\n      try {\n        let objects = null\n          ? undefined\n          : JSON.parse(localStorage.getItem(KEY)) || [];\n        objects.push(movieItem);\n        localStorage.setItem(KEY, JSON.stringify(objects));\n        buttonAdd.classList.add('hidden');\n        buttonRemove.classList.remove('hidden');\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    function removeLS() {\n      try {\n        let objects = null ? undefined : JSON.parse(localStorage.getItem(KEY));\n        const indexMovie = objects.findIndex(obj => obj.id === id);\n        objects.splice(indexMovie, 1);\n        localStorage.setItem(KEY, JSON.stringify(objects));\n        buttonAdd.classList.remove('hidden');\n        buttonRemove.classList.add('hidden');\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    function ls() {\n      try {\n        const itemLs = localStorage.getItem(KEY);\n        const parceLS = null ? undefined : JSON.parse(itemLs);\n        if (parceLS === null) {\n          return;\n        }\n        parceLS.map(elm => {\n          if (elm.id === id) {\n            buttonAdd.classList.add('hidden');\n            buttonRemove.classList.remove('hidden');\n          }\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    ls();\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { initRatings } from './init-rating';\nimport getRefs from './components/get-refs';\nimport { genresList } from './components/genre-list';\nimport initRating from './init-rating';\n\nconst refs = getRefs();\n\nfunction markup(data) {\n  return data.map(\n    ({ poster_path, title, vote_average, release_date, genre_ids, id }) => {\n      const genres = genresList(genre_ids);\n      const release = new Date(release_date).getFullYear();\n\n      const imageUrl = poster_path\n        ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n        : 'https://via.placeholder.com/395x574?text=No+Image';\n\n      initRatings();\n\n      return `<li class=\"gallery__item\" id='${id}'>\n        <article>\n        <img class=\"gallery__img\" src=\"${imageUrl}\" alt=\"${title}\" width=\"395\" >\n          <div class=\"gallery__details\">\n            <p class=\"details__title\">${title}</p>\n            <div class=\"wraper__details\">\n            <p class=\"movieGenres\">${genres} | ${release}</p>\n             <div class=\"rating\">\n              <div class=\"rating__body\">\n              <div class=\"rating__active\" style=\"width: ${\n                vote_average * 10\n              }%;\"></div>>\n                <div class=\"rating__items\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"1\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"2\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"3\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"4\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"5\" name=\"rating\" />\n                </div>\n              </div>\n              <div class=\"rating__value\">${vote_average}</div>\n            </div>\n            </div>\n          </div>\n        </article>\n        </li>`;\n    }\n  );\n}\n\nfunction createGallery(films) {\n  clearGallery();\n  refs.gallery.innerHTML = markup(films).join('');\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport { createGallery };\n","import { genres } from './genres';\n\nexport const genresList = array => {\n  if (!Array.isArray(array)) {\n    return 'Unknown genre';\n  }\n\n  const genreResult = genres\n    .filter(({ id }) => array.includes(id))\n    .map(({ name }) => name);\n\n  if (!genreResult.length) {\n    return 'Unknown genre';\n  } else if (genreResult.length > 2) {\n    return `${genreResult.slice(0, 2).join(', ')}`;\n  } else {\n    return genreResult.join(', ');\n  }\n};\n","export const genres = [\n  { id: 28, name: 'Action' },\n\n  { id: 12, name: 'Adventure' },\n\n  { id: 16, name: 'Animation' },\n\n  { id: 35, name: 'Comedy' },\n\n  { id: 80, name: 'Crime' },\n\n  { id: 99, name: 'Documentary' },\n\n  { id: 18, name: 'Drama' },\n\n  { id: 10751, name: 'Family' },\n\n  { id: 14, name: 'Fantasy' },\n\n  { id: 36, name: 'History' },\n\n  { id: 27, name: 'Horror' },\n\n  { id: 10402, name: 'Music' },\n\n  { id: 9648, name: 'Mystery' },\n\n  { id: 10749, name: 'Romance' },\n\n  { id: 878, name: 'Science Fiction' },\n\n  { id: 10770, name: 'TV Movie' },\n\n  { id: 53, name: 'Thriller' },\n\n  { id: 10752, name: 'War' },\n\n  { id: 37, name: 'Western' },\n];\n"],"names":["$8aad853c076397e7$var$refs","parcelRequire","default","pathName","window","location","pathname","split","homeHrefs","pageLinks","forEach","link","url","getAttribute","includes","classList","add","remove","pageLinksMobile","$99a7614405e0c729$export$2e2bcd8739ae039","html","document","documentElement","savedTheme","localStorage","getItem","switcher","querySelector","rating","querySelectorAll","gallery","mobileMenu","headerContainer","openMenuBtn","body","getElementsByTagName","linkButton","backdrop","openModal","closeModal","teamBackdrop","teamModal","getElementsByClassName","closeModalBtn","modal","footerLink","footerBackdrop","modalCloseBtn","watchedBtn","modalEmptyEl","closeModalEmptyEl","scrollUpBtn","getElementById","$01a0d922e623affe$var$refs","toggleMenu","isMenuOpen","setAttribute","toggle","addEventListener","button","e","target","currentTarget","matchMedia","matches","$09305429070b20c1$var$refs","checked","theme","className","setItem","$56ca17bb174b0ce3$export$2e2bcd8739ae039","constructor","this","page","nextPage","prevPage","setPage","value","getCurrentPage","reset","async","response","fetch","json","error","Error","id","then","res","genres","Promise","r","setTimeout","obj","str","keys","Object","length","key","$f72373104cf14641$var$refs","$f72373104cf14641$export$788b19c48288a56f","index","$f72373104cf14641$var$initRating","ratingActive","ratingValue","item","innerHTML","$f72373104cf14641$var$setRatingActiveWidth","ratingActiveWidth","style","width","$52650fc44c8b8200$var$refs","scrollY","display","scrollTo","top","behavior","$1cfe5ce227f9666b$var$api","$1cfe5ce227f9666b$var$refs","$1cfe5ce227f9666b$var$toggleModal","$1cfe5ce227f9666b$export$f1348557528e4581","id1","data","getDetailsById","idGenres","newGenreMovie","map","elem","push","name","voteAverage","vote_average","toFixed","popularity","imageUrl","poster_path","original_name","title","vote_count","join","overview","buttonAdd","buttonRemove","objects","JSON","parse","KEY","movieItem","stringify","console","indexMovie","findIndex","splice","ID_GENRE","release_date","genre_ids","itemLs","parceLS","elm","ls","event","closest","$ldvLh","$5c9ec74aeed8cd43$var$refs","$dbTx9","$5c9ec74aeed8cd43$export$dac8b9bf675ebb55","films","$jEZFs","genresList","release","Date","getFullYear","initRatings","$haSTN","$e50196ace6e0d212$export$65f5202b5c3d7552","array","Array","isArray","genreResult","filter","slice","$c80df49edc560f2a$export$be3a0ca764f9df2b"],"version":3,"file":"index.198b577b.js.map"}