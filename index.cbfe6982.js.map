{"mappings":"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","sources":["src/js/header.js","src/js/mobile-menu.js","src/js/themeToggle.js","src/js/upcoming.js","src/js/scroll-up.js","src/js/modal-team.js"],"sourcesContent":["// Higlights active link in navigation menu / mobile menu\nimport getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n \n  const pathName = window.location.pathname.split('?')[0];\n\n  refs.pageLinks.forEach(link => {\n    const url = link.getAttribute('href');\n    if (pathName === '/index.html' && url === '/') {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    link.classList.remove('navigation__link--current');\n  });\n  refs.pageLinksMobile.forEach(link => {\n    const url = link.getAttribute('href');\n    if (pathName === '/index.html' && url === '/') {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    link.classList.remove('navigation-menu__link--current');\n  });\n})();\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n  console.log('hello');\n\n  /* const closeMenuBtn = document.querySelector('.menu-close'); */\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      refs.headerContainer.getAttribute('aria-expanded') === 'true' || false;\n    refs.headerContainer.setAttribute('aria-expanded', !isMenuOpen);\n    refs.mobileMenu.setAttribute('aria-hidden', isMenuOpen);\n    refs.headerContainer.classList.toggle('opened');\n    refs.mobileMenu.classList.toggle('is-hidden');\n    refs.body.classList.toggle('scroll-block');\n\n    /* const scrollLockMethod = !isMenuOpen\n      ? \"disableBodyScroll\"\n      : \"enableBodyScroll\";\n    bodyScrollLock[scrollLockMethod](document.body); */\n  };\n\n  const hideOnClickOutside = e => e.target === e.currentTarget && toggleMenu();\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  /* closeMenuBtn.addEventListener('click', toggleMenu); */\n  refs.linkButton.forEach(button =>\n    button.addEventListener('click', toggleMenu)\n  );\n  refs.mobileMenu.addEventListener('click', hideOnClickOutside);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    refs.mobileMenu.classList.add('is-hidden');\n    refs.headerContainer.setAttribute('aria-expanded', false);\n    refs.headerContainer.classList.remove('opened');\n    refs.body.classList.remove('scroll-block');\n    /* bodyScrollLock.enableBodyScroll(document.body); */\n  });\n})();\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\n// Switch theme by changing root element class based on checkbox input state\nexport default (() => {\n  if (refs.savedTheme === 'light') refs.switcher.checked = true;\n  refs.switcher.addEventListener('input', () => {\n    const theme = refs.html.className;\n    refs.html.className = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('color-theme', refs.html.className);\n  });\n})();\n","import Api  from './api';\nconst refs = {\n  galleryOfNewMovies: document.querySelector('.upcoming__container'),\n}\nconst newMovies = new Api();\n\nfetchUpcomingMovie().then(renderUpcomingMovieCard)\n.catch(er =>console.log(er.message));\nrenderUpcomingMovieCard();\n\n\n\nexport function fetchUpcomingMovie(){ \nreturn newMovies.upcoming()\n}; \n\n\nexport async function renderUpcomingMovieCard(res){\n  try{\n  \nconst genres = await newMovies.fetchGenres();\nconst results = res.results.slice(0,1);\n\nconst createUpcomingCard = results.map(result => {const {backdrop_path, original_title, release_date, vote_average, vote_count, popularity, genre_ids, overview } = result\n  function getFormatDate(join){\n    join= join || ' '; // разделитель по дефолту\n    \n    const release = new Date(release_date); \n    return release.getDate() + join + release.getMonth() + join + release.getFullYear();  \n  }\n  // console.log(getFormatDate('.'));\n  \n  const idGenre = res.results[0].genre_ids;\n  \n  let nameGenres=[];\n  for(let i=0; i < idGenre.length; i+=1 ){\n    const item = genres.find(el => el.id === idGenre[i])\n    nameGenres.push(item.name);\n  }\n\n \n \n const data = results[0];\n const title = data.original_title;\n const key = title;\n//  const title = res.results[0].original_title;\n const imageUrl = data.backdrop_path\n ? `https://image.tmdb.org/t/p/w500/${data.backdrop_path}`\n : 'https://via.placeholder.com/395x574?text=No+Image'; \n const formatDate = getFormatDate('.');\n const voteAverage = res.results[0].vote_average;\n const voteCount = res.results[0].vote_count;\n const genreUp = nameGenres.slice(0, 2).join(', ');\n\n\nrefs.galleryOfNewMovies.innerHTML = `<div class=\"upcoming__info\"> \n<img src=\"https://image.tmdb.org/t/p/original/${imageUrl}\" alt=\"${title}\"  loading=\"lazy\" class=\"upcoming__img\" />\n<div class=\"upcoming__info-btn\">\n<div class=\"upcoming__info-layout\">\n<h3 class =\"upcoming__movie-title\"><span class=\"upcoming__item-font-title\">${title}</span></h3>\n<div class=\"upcoming__list-tablet\">\n<ul class=\"upcoming__list\">\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-date\">Release date</span><span class=\"upcoming__item-data\">${formatDate}</span></li>\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-vote\">Vote/Votes </span><span class=\"upcoming__item-vote\">${voteAverage}</span>  /  <span class=\"upcoming__item-votes\">${voteCount}</span></li>\n</ul>\n<ul class=\"upcoming__list\">\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-popularity\">Popularity </span><span class=\"upcoming__item-pop\">${popularity}</span></li>\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-genre\">Genre </span><span class=\"upcoming__item-genre\">${genreUp}</span></li>\n</ul>\n</div>\n<p class =\"upcoming__movie-about\">About</p>\n<p class=\"upcoming__item-font-about\">${overview}</p>\n</div>\n<button type=\"button\" class=\"upcoming__button\">Remind me</button>\n</div>\n</div>`;\nremindBtn = document.querySelector('.upcoming__button')\nremindBtn.addEventListener('click', addLS);\nconst KEY = 'key';\n\n const value = {\n  title: title,\n  popularity,\n  voteAverage,\n  imageUrl,\n  voteCount,\n  genreUp,\n  overview,\n};\n// console.log(value);\n\n\nfunction addLS() { \n const arr = [];\n const saved = localStorage.getItem('key');\n \n console.log(saved)\n if( saved === null){\narr.push(value);\nlocalStorage.setItem('key', JSON.stringify(arr));\nremindBtn.disabled = true;\nremindBtn.style.backgraund = \"grey\";\n }\n else if(saved ==! null && arr.length >= 1){\n  remindBtn.disabled = true;\n  remindBtn.style.backgraund = \"grey\";\n }\n}\n});\n} catch{error => (console.log(error.message))};\n};\n\n\n// remindBtn.disabled = true;\n// remindBtn.style.backgraun = \"grey\";","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\n// Add a scroll event listener to the window object\nwindow.addEventListener('scroll', function () {\n  // If the user has scrolled down more than 20 pixels, show the button\n  if (window.scrollY > 20) {\n    refs.scrollUpBtn.style.display = 'block';\n  } else {\n    // Otherwise, hide the button\n    refs.scrollUpBtn.style.display = 'none';\n  }\n});\n// Add a click event listener to the button\nrefs.scrollUpBtn.addEventListener('click', function () {\n  // Scroll the page to the top with smooth animation\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nif (refs.openModal) refs.openModal.addEventListener('click', openModalTeam);\nif (refs.closeModal) refs.closeModal.addEventListener('click', closeModalTeam);\n\nfunction openModalTeam(event) {\n  refs.teamBackdrop.classList.remove('team__backdrop--hidden');\n  document.addEventListener('keydown', onEscapeClose);\n  document.addEventListener('click', onBackdropClose);\n  refs.teamModal[0].classList.add('openModalAnimationTeam');\n  // document.body.style.overflow = 'hidden';\n}\n\nfunction closeModalTeam(event) {\n  refs.teamModal[0].classList.remove('closeModalAnimationTeam');\n  refs.teamBackdrop.classList.add('team__backdrop--hidden');\n  document.removeEventListener('keydown', onEscapeClose);\n  document.body.style.overflow = '';\n}\n\nfunction onEscapeClose(event) {\n  if (event.code === 'Escape') {\n    refs.teamModal[0].classList.remove('openModalAnimationTeam');\n    refs.teamModal[0].classList.add('closeModalAnimationTeam');\n    setTimeout(() => {\n      closeModalTeam();\n    }, 400);\n    closeModalTeam();\n  }\n}\n\nfunction onBackdropClose(event) {\n  if (event.target === refs.teamBackdrop) {\n    refs.teamModal[0].classList.remove('openModalAnimationTeam');\n    refs.teamModal[0].classList.add('closeModalAnimationTeam');\n    setTimeout(() => {\n      closeModalTeam();\n    }, 400);\n  }\n}\n"],"names":["$8aad853c076397e7$var$refs","parcelRequire","default","pathName","window","location","pathname","split","pageLinks","forEach","link","url","getAttribute","classList","remove","add","pageLinksMobile","$01a0d922e623affe$var$refs","console","log","toggleMenu","isMenuOpen","headerContainer","setAttribute","mobileMenu","toggle","body","openMenuBtn","addEventListener","linkButton","button","e","target","currentTarget","matchMedia","matches","$09305429070b20c1$var$refs","savedTheme","switcher","checked","theme","html","className","localStorage","setItem","$7rYDH","$65414923e0a79c46$var$refs","galleryOfNewMovies","document","querySelector","$65414923e0a79c46$var$newMovies","async","$65414923e0a79c46$export$b31ccb6f873ec7de","res","genres","fetchGenres","results","slice","map","result","backdrop_path","original_title","release_date","vote_average","vote_count","popularity","genre_ids","overview","idGenre","nameGenres","i","length","item","find","el","id","push","name","data","title","imageUrl","formatDate","join","release","Date","getDate","getMonth","getFullYear","getFormatDate","voteAverage","voteCount","genreUp","innerHTML","remindBtn","arr","saved","getItem","value","JSON","stringify","disabled","style","backgraund","upcoming","then","catch","er","message","$52650fc44c8b8200$var$refs","scrollY","scrollUpBtn","display","scrollTo","top","behavior","$53c8cd70eab94c2b$var$refs","$53c8cd70eab94c2b$var$closeModalTeam","event","teamModal","teamBackdrop","removeEventListener","$53c8cd70eab94c2b$var$onEscapeClose","overflow","code","setTimeout","$53c8cd70eab94c2b$var$onBackdropClose","openModal","closeModal"],"version":3,"file":"index.cbfe6982.js.map"}