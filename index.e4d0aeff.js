const t=new class{async dayTrends(){try{const t=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=225e339996bc91260b33199c383c8881");return await t.json()}catch(t){throw new Error("Error fetching movie data: "+t)}}async weekTrends(){try{const t=await fetch("https://api.themoviedb.org/3/trending/all/week?api_key=225e339996bc91260b33199c383c8881");return await t.json()}catch(t){throw new Error("Error fetching movie data: "+t)}}async upcoming(){try{const t=await fetch("https://api.themoviedb.org/3/all/upcoming?api_key=225e339996bc91260b33199c383c8881");return await t.json()}catch(t){throw new Error("Error fetching movie data: "+t)}}async fetchGenres(){try{const t=await fetch("https://api.themoviedb.org/3//genre/movie/list?api_key=225e339996bc91260b33199c383c8881");return(await t.json()).genres}catch(t){throw new Error("Error fetching genres data: "+t)}}constructor(){this.name="name",this.year=0,this.genre="genre",this.country="country"}},e={rating:document.querySelectorAll(".rating"),wrapper:document.querySelector(".article__list")};function a(t){const e=t.querySelector(".rating__active"),a=t.querySelector(".rating__value");t.querySelectorAll(".rating__item").forEach((t=>{t.addEventListener("click",(()=>{a.innerHTML=t.value,n(e,a)}))})),n(e,a)}function n(t,e){const a=e.innerHTML/.025;t.style.width=`${a}%`}!async function(){try{const n=(await t.weekTrends()).results.slice(0,3),i=await t.fetchGenres(),r=n.map((t=>{const{poster_path:e,title:a,vote_average:n,release_date:r,genre_ids:c}=t,s=n,o=new Date(r).getFullYear();return`\n        <li class="article__item">\n        <article>\n        <img class="article__img" src="${e?`https://image.tmdb.org/t/p/w500/${e}`:"https://via.placeholder.com/395x574?text=No+Image"}" alt="${a}" width="395" >\n          <div class="details">\n            <p class="title__txt">${a}</p>\n            <div class="wraper__details">\n            <p class="movieGenres">${i.filter((t=>c.includes(t.id))).map((t=>t.name)).slice(0,2).join(", ")} | ${o}</p>\n            \n            <div class="rating">\n              <div class="rating__body">\n                <div class="rating__active"></div>\n                <div class="rating__items">\n                  <input type="radio" class="rating__item" value="1" name="rating" />\n                  <input type="radio" class="rating__item" value="2" name="rating" />\n                  <input type="radio" class="rating__item" value="3" name="rating" />\n                  <input type="radio" class="rating__item" value="4" name="rating" />\n                  <input type="radio" class="rating__item" value="5" name="rating" />\n                </div>\n              </div>\n              <div class="rating__value">${s}</div>\n            </div>\n            </div>\n          </div>\n        </article>\n          \n        </li>\n      `}));e.wrapper.innerHTML=r.join(""),function(){if(e.rating.length>0)for(let t=0;t<e.rating.length;t++)a(e.rating[t])}()}catch(t){console.error(t)}}();
//# sourceMappingURL=index.e4d0aeff.js.map
