!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequire991f;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequire991f=o),o("cs7FV"),o("7jbwn"),o("i8Q71");var r=o("bpxeT"),s=o("2TvXO"),c=new(0,o("b7ONl").default),l={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal"),gallery:document.querySelector(".gallery")},i=function(){l.backdrop.classList.toggle("hidden")};function d(){return(d=e(r)(e(s).mark((function t(n){var a,o,r,d,p,u,m,v,f,g,_,y,b;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _=function(){var e=JSON.parse(localStorage.getItem(f))||[];e.push(g),localStorage.setItem(f,JSON.stringify(e)),m.classList.add("hidden"),v.classList.remove("hidden")},y=function(){var e=JSON.parse(localStorage.getItem(f)),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),localStorage.setItem(f,JSON.stringify(e)),m.classList.remove("hidden"),v.classList.add("hidden")},b=function(){try{var e=localStorage.getItem(f),t=JSON.parse(e);if(null===t)return;t.map((function(e){e.id===n&&(m.classList.add("hidden"),v.classList.remove("hidden"))}))}catch(e){console.error(e)}},e.prev=3,e.next=6,c.getDetailsById(n);case 6:a=e.sent,o=a.genres,r=[],o.map((function(e){r.push(e.name)})),d=a.vote_average.toFixed(2),p=a.popularity.toFixed(1),u=a.poster_path?"https://image.tmdb.org/t/p/w500/".concat(a.poster_path):"https://via.placeholder.com/395x574?text=No+Image",l.modal.innerHTML='\n    <img class="modal__img" src='.concat(u," alt=").concat(a.original_name,' loading="lazy">\n    <div class="modal__items">\n      <h1 class="modal__title">').concat(a.title,'</h1>\n      <p class="modal__rating">Vote / Votes\n        <span class="modal__rating_span">\n          <span class="rating-vote">').concat(d,'</span> /\n          <span class="rating-vote">').concat(a.vote_count,'</span>\n        </span>\n      </p>\n      <p class="modal__popularity">Popularity <span>').concat(p,'</span> </p>\n      <p class="modal__genre">Genre <span>').concat(r.join(" "),'</span></p>\n      <p class="modal__about">ABOUT</p>\n      <p class="modal__description">').concat(a.overview,'</p>\n      <button class="button-add" type="button"><span class="button-add__tex">Add to my library</span> </button>\n      <button class="button-remove hidden" type="button"><span class="button-add__tex">Remove from my library</span> </button>\n    </div>'),m=document.querySelector(".button-add"),v=document.querySelector(".button-remove"),document.querySelector(".button__close").addEventListener("click",i),m.addEventListener("click",_),v.addEventListener("click",y),f="LibraryMovie",g={data:a.release_date,id:n,title:a.title,popularity:p,voteAverage:d,img:u,voteCount:a.vote_count,genres:r,overview:a.overview},b(),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(3),console.error(e.t0);case 31:case"end":return e.stop()}}),t,null,[[3,28]])})))).apply(this,arguments)}window.addEventListener("keydown",(function(e){"Escape"===e.key&&l.backdrop.classList.add("hidden")})),l.backdrop.addEventListener("click",(function(e){"backdrop"===e.target.className&&i()})),l.gallery.addEventListener("click",(function(e){i(),function(e){d.apply(this,arguments)}(e.target.closest(".gallery__item ").id)})),o("23Ajj"),o("7lHWV")}();
//# sourceMappingURL=catalog.df68dc2e.js.map
