{"mappings":"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","sources":["src/js/mobile-menu.js","src/js/themeToggle.js","src/js/header.js","src/js/modal_movie.js","src/js/scroll-up.js"],"sourcesContent":["import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n  console.log('hello');\n\n  /* const closeMenuBtn = document.querySelector('.menu-close'); */\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      refs.headerContainer.getAttribute('aria-expanded') === 'true' || false;\n    refs.headerContainer.setAttribute('aria-expanded', !isMenuOpen);\n    refs.mobileMenu.setAttribute('aria-hidden', isMenuOpen);\n    refs.headerContainer.classList.toggle('opened');\n    refs.mobileMenu.classList.toggle('is-hidden');\n    refs.body.classList.toggle('scroll-block');\n\n    /* const scrollLockMethod = !isMenuOpen\n      ? \"disableBodyScroll\"\n      : \"enableBodyScroll\";\n    bodyScrollLock[scrollLockMethod](document.body); */\n  };\n\n  const hideOnClickOutside = e => e.target === e.currentTarget && toggleMenu();\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  /* closeMenuBtn.addEventListener('click', toggleMenu); */\n  refs.linkButton.forEach(button =>\n    button.addEventListener('click', toggleMenu)\n  );\n  refs.mobileMenu.addEventListener('click', hideOnClickOutside);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    refs.mobileMenu.classList.add('is-hidden');\n    refs.headerContainer.setAttribute('aria-expanded', false);\n    refs.headerContainer.classList.remove('opened');\n    refs.body.classList.remove('scroll-block');\n    /* bodyScrollLock.enableBodyScroll(document.body); */\n  });\n})();\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\n// Switch theme by changing root element class based on checkbox input state\nexport default (() => {\n  if (refs.savedTheme === 'light') refs.switcher.checked = true;\n  refs.switcher.addEventListener('input', () => {\n    const theme = refs.html.className;\n    refs.html.className = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('color-theme', refs.html.className);\n  });\n})();\n","// Higlights active link in navigation menu / mobile menu\nimport getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nexport default (() => {\n \n  const pathName = window.location.pathname.split('?')[0];\n\n  refs.pageLinks.forEach(link => {\n    const url = link.getAttribute('href');\n    if (pathName === '/index.html' && url === '/') {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation__link--current');\n      return;\n    }\n    link.classList.remove('navigation__link--current');\n  });\n  refs.pageLinksMobile.forEach(link => {\n    const url = link.getAttribute('href');\n    if (pathName === '/index.html' && url === '/') {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    if (url === pathName) {\n      link.classList.add('navigation-menu__link--current');\n      return;\n    }\n    link.classList.remove('navigation-menu__link--current');\n  });\n})();\n","import Api from './api';\nconst api = new Api();\n\nconst refs = {\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  gallery: document.querySelector('.gallery'),\n};\nconst toggleModal = () => {\n  refs.backdrop.classList.toggle('hidden');\n};\n// ========================CLICK ESP=====================\n\nwindow.addEventListener('keydown', event => {\n  if (event.key === 'Escape') refs.backdrop.classList.add('hidden');\n});\n// ========================CLICK backdrop================\n\nrefs.backdrop.addEventListener('click', event => {\n  if (event.target.className === 'backdrop') {\n    toggleModal();\n  }\n});\n\n// ========================CLICK Open=====================\n\nrefs.gallery.addEventListener('click', event => {\n  toggleModal();\n  let idOfCard = event.target.closest('.gallery__item ').id;\n  modalMovie(idOfCard);\n});\n\n// ========================CLICK closed=====================\n\n// ========================================================\n\nexport async function modalMovie(id) {\n  try {\n    const data = await api.getDetailsById(id);\n    const idGenres = data.genres;\n    const newGenreMovie = [];\n    idGenres.map(elem => {\n      newGenreMovie.push(elem.name);\n    });\n\n    const voteAverage = data.vote_average.toFixed(2);\n    const popularity = data.popularity.toFixed(1);\n    const imageUrl = data.poster_path\n      ? `https://image.tmdb.org/t/p/w500/${data.poster_path}`\n      : 'https://via.placeholder.com/395x574?text=No+Image';\n\n    refs.modal.innerHTML = `\n    <img class=\"modal__img\" src=${imageUrl} alt=${\n      data.original_name\n    } loading=\"lazy\">\n    <div class=\"modal__items\">\n      <h1 class=\"modal__title\">${data.title}</h1>\n      <p class=\"modal__rating\">Vote / Votes\n        <span class=\"modal__rating_span\">\n          <span class=\"rating-vote\">${voteAverage}</span> /\n          <span class=\"rating-vote\">${data.vote_count}</span>\n        </span>\n      </p>\n      <p class=\"modal__popularity\">Popularity <span>${popularity}</span> </p>\n      <p class=\"modal__genre\">Genre <span>${newGenreMovie.join(' ')}</span></p>\n      <p class=\"modal__about\">ABOUT</p>\n      <p class=\"modal__description\">${data.overview}</p>\n      <button class=\"button-add\" type=\"button\"><span class=\"button-add__tex\">Add to my library</span> </button>\n      <button class=\"button-remove hidden\" type=\"button\"><span class=\"button-add__tex\">Remove from my library</span> </button>\n    </div>`;\n\n    const buttonAdd = document.querySelector('.button-add');\n    const buttonRemove = document.querySelector('.button-remove');\n    const closeModalBtn = document.querySelector('.button__close');\n\n    closeModalBtn.addEventListener('click', toggleModal);\n    buttonAdd.addEventListener('click', addLS);\n    buttonRemove.addEventListener('click', removeLS);\n\n    const KEY = 'LibraryMovie';\n    const movieItem = {\n      data: data.release_date,\n      id,\n      title: data.title,\n      popularity,\n      voteAverage,\n      img: imageUrl,\n      voteCount: data.vote_count,\n      genres: newGenreMovie,\n      overview: data.overview,\n    };\n    function addLS() {\n      let objects = JSON.parse(localStorage.getItem(KEY)) || [];\n      objects.push(movieItem);\n      localStorage.setItem(KEY, JSON.stringify(objects));\n      buttonAdd.classList.add('hidden');\n      buttonRemove.classList.remove('hidden');\n    }\n\n    function removeLS() {\n      let objects = JSON.parse(localStorage.getItem(KEY));\n      const indexMovie = objects.findIndex(obj => obj.id === id);\n      objects.splice(indexMovie, 1);\n      localStorage.setItem(KEY, JSON.stringify(objects));\n      buttonAdd.classList.remove('hidden');\n      buttonRemove.classList.add('hidden');\n    }\n    function ls() {\n      try {\n        const itemLs = localStorage.getItem(KEY);\n        const parceLS = null ? undefined : JSON.parse(itemLs);\n        if (parceLS === null) {\n          return;\n        }\n        parceLS.map(elm => {\n          if (elm.id === id) {\n            buttonAdd.classList.add('hidden');\n            buttonRemove.classList.remove('hidden');\n          }\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    ls();\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\n// Add a scroll event listener to the window object\nwindow.addEventListener('scroll', function () {\n  // If the user has scrolled down more than 20 pixels, show the button\n  if (window.scrollY > 20) {\n    refs.scrollUpBtn.style.display = 'block';\n  } else {\n    // Otherwise, hide the button\n    refs.scrollUpBtn.style.display = 'none';\n  }\n});\n// Add a click event listener to the button\nrefs.scrollUpBtn.addEventListener('click', function () {\n  // Scroll the page to the top with smooth animation\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["$01a0d922e623affe$var$refs","parcelRequire","default","console","log","toggleMenu","isMenuOpen","headerContainer","getAttribute","setAttribute","mobileMenu","classList","toggle","body","openMenuBtn","addEventListener","linkButton","forEach","button","e","target","currentTarget","window","matchMedia","matches","add","remove","$09305429070b20c1$var$refs","savedTheme","switcher","checked","theme","html","className","localStorage","setItem","$8aad853c076397e7$var$refs","pathName","location","pathname","split","pageLinks","link","url","pageLinksMobile","$1cfe5ce227f9666b$var$api","$1cfe5ce227f9666b$var$refs","backdrop","document","querySelector","modal","gallery","$1cfe5ce227f9666b$var$toggleModal","event","key","async","id","data","getDetailsById","idGenres","genres","newGenreMovie","map","elem","push","name","voteAverage","vote_average","toFixed","popularity","imageUrl","poster_path","innerHTML","original_name","title","vote_count","join","overview","buttonAdd","buttonRemove","addLS","removeLS","KEY","movieItem","release_date","img","voteCount","objects","JSON","parse","getItem","stringify","indexMovie","findIndex","obj","splice","ls","itemLs","parceLS","elm","error","$1cfe5ce227f9666b$export$f1348557528e4581","closest","$52650fc44c8b8200$var$refs","scrollY","scrollUpBtn","style","display","scrollTo","top","behavior"],"version":3,"file":"catalog.a89d46c7.js.map"}