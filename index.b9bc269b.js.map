{"mappings":"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","sources":["src/index.js","src/js/upcoming.js","src/js/modal-team.js"],"sourcesContent":["// import weeklyTrends from './js/weekly-trends';\nimport header from './js/header';\nimport mobileMenu from './js/mobile-menu';\nimport themeToggle from './js/themeToggle';\nimport { getDayMovieTrend } from './js/hero';\nimport { fetchUpcomingMovie, renderUpcomingMovieCard } from './js/upcoming';\nimport createWeekTrendsCatalog from './js/createTrends';\nimport scrollUp from './js/scroll-up';\nimport modalTeam from './js/modal-team';\n\nimport modalMovie from './js/modal_movie';\n","import Api from './api';\nconst refs = {\n  galleryOfNewMovies: document.querySelector('.upcoming__container'),\n};\nconst newMovies = new Api();\n\nfetchUpcomingMovie()\n  .then(renderUpcomingMovieCard)\n  .catch(er => console.log(er.message));\nrenderUpcomingMovieCard();\n\nexport function fetchUpcomingMovie() {\n  return newMovies.upcoming();\n}\n\nexport async function renderUpcomingMovieCard(res) {\n  try {\n    const genres = await newMovies.fetchGenres();\n    const results = res.results.slice(0, 1);\n\n    const createUpcomingCard = results.map(result => {\n      const {\n        backdrop_path,\n        original_title,\n        release_date,\n        vote_average,\n        vote_count,\n        popularity,\n        genre_ids,\n        overview,\n      } = result;\n      function getFormatDate(join) {\n        join = join || ' '; // разделитель по дефолту\n\n        const release = new Date(release_date);\n        return (\n          release.getDate() +\n          join +\n          release.getMonth() +\n          join +\n          release.getFullYear()\n        );\n      }\n      // console.log(getFormatDate('.'));\n\n      const idGenre = res.results[0].genre_ids;\n\n\n      let nameGenres = [];\n      for (let i = 0; i < idGenre.length; i += 1) {\n        const item = genres.find(el => el.id === idGenre[i]);\n        nameGenres.push(item.name);\n      }\n\n \n \n const data = results[0];\n const title = data.original_title;\n const key = title;\n//  const title = res.results[0].original_title;\n const imageUrl = data.backdrop_path\n ? `https://image.tmdb.org/t/p/w500/${data.backdrop_path}`\n : 'https://via.placeholder.com/395x574?text=No+Image'; \n const formatDate = getFormatDate('.');\n const voteAverage = res.results[0].vote_average;\n const voteCount = res.results[0].vote_count;\n const movieId = JSON.stringify(res.results[0].id);\n const genreUp = nameGenres.slice(0, 2).join(', ');\n\n\n//       const data = results[0];\n//       const title = data.original_title;\n//       const key = title;\n//       //  const title = res.results[0].original_title;\n//       const imageUrl = data.backdrop_path\n//         ? `https://image.tmdb.org/t/p/w500/${data.backdrop_path}`\n//         : 'https://via.placeholder.com/395x574?text=No+Image';\n//       const posterUrl = data.poster_path\n//         ? `https://image.tmdb.org/t/p/w500/${data.poster_path}`\n//         : 'https://via.placeholder.com/395x574?text=No+Image';\n//       const formatDate = getFormatDate('.');\n//       const voteAverage = res.results[0].vote_average;\n//       const voteCount = res.results[0].vote_count;\n//       const movieId = res.results[0].id;\n//       const genreUp = nameGenres.slice(0, 2).join(', ');\n\n      refs.galleryOfNewMovies.innerHTML = ` <h2 class=\"upcoming__title\">Upcoming this month</h2>\n<div class=\"upcoming__info\"> \n<img src=\"https://image.tmdb.org/t/p/original/${imageUrl}\" alt=\"${title}\"  loading=\"lazy\" class=\"upcoming__img\" />\n<div class=\"upcoming__info-btn\">\n<div class=\"upcoming__info-layout\">\n<h3 class =\"upcoming__movie-title\"><span class=\"upcoming__item-font-title\">${title}</span></h3>\n<div class=\"upcoming__list-tablet\">\n<ul class=\"upcoming__list\">\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-date\">Release date</span><span class=\"upcoming__item-data\">${formatDate}</span></li>\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-vote\">Vote/Votes </span><span class=\"upcoming__item-vote\">${voteAverage}</span>  /  <span class=\"upcoming__item-votes\">${voteCount}</span></li>\n</ul>\n<ul class=\"upcoming__list\">\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-popularity\">Popularity </span><span class=\"upcoming__item-pop\">${popularity}</span></li>\n<li class =\"upcoming__item\"><span class=\"upcoming__item-font-genre\">Genre </span><span class=\"upcoming__item-genre\">${genreUp}</span></li>\n</ul>\n</div>\n<p class =\"upcoming__movie-about\">About</p>\n<p class=\"upcoming__item-font-about\">${overview}</p>\n</div>\n<button type=\"button\" class=\"upcoming__button\">Remind me</button>\n</div>\n</div>`;\n      remindBtn = document.querySelector('.upcoming__button');\n      remindBtn.addEventListener('click', addLS);\n      const KEY = 'LibraryMovie';\n\n      const movieItem = {\n        // release_date: formatDate,\n        release_date: data.release_date,\n        // id: movieId,\n        id: String(data.id),\n        title: title,\n        popularity,\n        vote_average: voteAverage,\n        // poster_path: imageUrl,\n        poster_path: posterUrl,\n        vote_count: voteCount,\n        genre_ids: idGenre,\n        overview,\n      };\n      console.log(value);\n\n\n      function addLS() {\n        const arr = [];\n        const saved = localStorage.getItem('LibraryMovie');\n        console.log(saved);\n        if (saved === null || !saved.includes(movieItem)) {\n          arr.push(movieItem);\n          localStorage.setItem('LibraryMovie', JSON.stringify(arr));\n          remindBtn.disabled = true;\n          remindBtn.style.backgraund = 'grey';\n        } else if (saved == !null && arr.includes(movieItem.release_date)) {\n          remindBtn.disabled = true;\n          remindBtn.style.backgraund = 'grey';\n        }\n      }\n\n      function ls() {\n        try {\n          const itemLs = localStorage.getItem(KEY);\n          const parceLS = null ? undefined : JSON.parse(itemLs);\n          if (parceLS === null) {\n            return;\n          }\n          parceLS.map(elm => {\n            if (elm.id === id) {\n              remindBtn.disabled = true;\n              remindBtn.style.backgraund = 'grey';\n            }\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n      ls();\n    });\n  } catch{error => (console.log(error.message))};\n  };","import getRefs from './components/get-refs';\n\nconst refs = getRefs();\n\nif (refs.openModal) refs.openModal.addEventListener('click', openModalTeam);\nif (refs.closeModal) refs.closeModal.addEventListener('click', closeModalTeam);\n\nfunction openModalTeam(event) {\n  refs.teamBackdrop.classList.remove('team__backdrop--hidden');\n  document.addEventListener('keydown', onEscapeClose);\n  document.addEventListener('click', onBackdropClose);\n  refs.teamModal[0].classList.add('openModalAnimationTeam');\n  // document.body.style.overflow = 'hidden';\n}\n\nfunction closeModalTeam(event) {\n  refs.teamModal[0].classList.remove('closeModalAnimationTeam');\n  refs.teamBackdrop.classList.add('team__backdrop--hidden');\n  document.removeEventListener('keydown', onEscapeClose);\n  document.body.style.overflow = '';\n}\n\nfunction onEscapeClose(event) {\n  if (event.code === 'Escape') {\n    refs.teamModal[0].classList.remove('openModalAnimationTeam');\n    refs.teamModal[0].classList.add('closeModalAnimationTeam');\n    setTimeout(() => {\n      closeModalTeam();\n    }, 400);\n    closeModalTeam();\n  }\n}\n\nfunction onBackdropClose(event) {\n  if (event.target === refs.teamBackdrop) {\n    refs.teamModal[0].classList.remove('openModalAnimationTeam');\n    refs.teamModal[0].classList.add('closeModalAnimationTeam');\n    setTimeout(() => {\n      closeModalTeam();\n    }, 400);\n  }\n}\n"],"names":["parcelRequire","$7rYDH","$65414923e0a79c46$var$refs","galleryOfNewMovies","document","querySelector","$65414923e0a79c46$var$newMovies","default","async","$65414923e0a79c46$export$b31ccb6f873ec7de","res","genres","fetchGenres","results","slice","map","result","backdrop_path","original_title","release_date","vote_average","vote_count","popularity","genre_ids","overview","idGenre","nameGenres","i","length","item","find","el","id","push","name","data","title","imageUrl","formatDate","join","release","Date","getDate","getMonth","getFullYear","getFormatDate","voteAverage","voteCount","genreUp","JSON","stringify","innerHTML","remindBtn","addEventListener","arr","saved","localStorage","getItem","console","log","includes","movieItem","disabled","style","backgraund","setItem","String","poster_path","posterUrl","value","itemLs","parceLS","parse","elm","error","ls","upcoming","then","catch","er","message","$53c8cd70eab94c2b$var$refs","$53c8cd70eab94c2b$var$closeModalTeam","event","teamModal","classList","remove","teamBackdrop","add","removeEventListener","$53c8cd70eab94c2b$var$onEscapeClose","body","overflow","code","setTimeout","$53c8cd70eab94c2b$var$onBackdropClose","target","openModal","closeModal"],"version":3,"file":"index.b9bc269b.js.map"}